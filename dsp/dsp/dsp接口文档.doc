
        <html xmlns:v="urn:schemas-microsoft-com:vml"
        xmlns:o="urn:schemas-microsoft-com:office:office"
        xmlns:w="urn:schemas-microsoft-com:office:word"
        xmlns="http://www.w3.org/TR/REC-html40">
        <head><meta http-equiv=Content-Type content="text/html;  
        charset=utf-8">
        <style type="text/css">
            table  
            {  
                border-collapse: collapse;
                border: none;  
                width: 100%;  
            }  
            td  
            {  
                border: solid #CCC 1px;  
            }  
            .codestyle{
                word-break: break-all;
                background:silver;mso-highlight:silver;
            }
        </style>
        <meta name=ProgId content=Word.Document>
        <meta name=Generator content="Microsoft Word 11">
        <meta name=Originator content="Microsoft Word 11">
        <xml><w:WordDocument><w:View>Print</w:View></xml></head>
        <body><h1>1、全局说明</h1><div style="margin-left:20px;"><ul>
<li>返回码说明</li>
</ul>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">返回码</th>
<th style="text-align: left;">错误码描述</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">0</td>
<td style="text-align: left;">OK</td>
<td>正常</td>
</tr>
<tr>
<td style="text-align: left;">1</td>
<td style="text-align: left;">参数校验异常</td>
<td>参数校验异常</td>
</tr>
<tr>
<td style="text-align: left;">127</td>
<td style="text-align: left;">未登陆</td>
<td>登陆校验异常</td>
</tr>
<tr>
<td style="text-align: left;">999</td>
<td style="text-align: left;">数据</td>
<td>数据无效</td>
</tr>
<tr>
<td style="text-align: left;">1000-3000</td>
<td style="text-align: left;">用户服务错误码</td>
<td>具体参考用户服务相关接口</td>
</tr>
<tr>
<td style="text-align: left;">3000-6000</td>
<td style="text-align: left;">投放服务错误码</td>
<td>具体参考投放服务相关接口</td>
</tr>
<tr>
<td style="text-align: left;">6000-9000</td>
<td style="text-align: left;">创意服务错误码</td>
<td>具体参考创意服务相关接口</td>
</tr>
<tr>
<td style="text-align: left;">9000-12000</td>
<td style="text-align: left;">数据服务错误码</td>
<td>具体参考数据服务相关接口</td>
</tr>
</tbody>
</table>
<ul>
<li>备注：无
投放服务错误代码细分：
计划模块：3000-4000
单元模块：4000-5000
投放task：5000-6000</li>
</ul></div><h1>2、系统结构</h1><div style="margin-left:20px;"><p><img src="https://www.showdoc.cc/home/common/visitfile/sign/332f8a1d91a6b2db4079830e46e2e02f?showdoc=.jpg" alt="" /></p></div><h1>3、网络部署</h1><div style="margin-left:20px;"><p><img src="https://www.showdoc.cc/home/common/visitfile/sign/37e8ec0ed9dad32f5e6dbc1dcd8e5b8d?showdoc=.jpg" alt="" /></p></div><h1>4、系统流程</h1><div style="margin-left:20px;"><p><img src="https://www.showdoc.cc/home/common/visitfile/sign/8887c73cb05a798853ce0c2e00a8a53d?showdoc=.jpg" alt="" /></p></div><h1>5、默认页面</h1><div style="margin-left:20px;"><ul>
<li>创意广告位表 position</li>
</ul>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">字段</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">空</th>
<th>默认</th>
<th>注释</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">bigint(20)</td>
<td style="text-align: left;">否</td>
<td>主键</td>
</tr>
<tr>
<td style="text-align: left;">name</td>
<td style="text-align: left;">varchar(50)</td>
<td style="text-align: left;">否</td>
<td>广告位名称</td>
</tr>
<tr>
<td style="text-align: left;">description</td>
<td style="text-align: left;">varchar(200)</td>
<td style="text-align: left;">否</td>
<td>广告位描述</td>
</tr>
<tr>
<td style="text-align: left;">creative_type</td>
<td style="text-align: left;">varchar(64)</td>
<td style="text-align: left;">是</td>
<td>创意类型</td>
</tr>
<tr>
<td style="text-align: left;">width</td>
<td style="text-align: left;">int</td>
<td style="text-align: left;">是</td>
<td>宽度</td>
</tr>
<tr>
<td style="text-align: left;">height</td>
<td style="text-align: left;">int</td>
<td style="text-align: left;">是</td>
<td>高度</td>
</tr>
<tr>
<td style="text-align: left;">sortby</td>
<td style="text-align: left;">int</td>
<td style="text-align: left;">是</td>
<td>排序</td>
</tr>
<tr>
<td style="text-align: left;">create_time</td>
<td style="text-align: left;">datetime</td>
<td style="text-align: left;">是</td>
<td>创建时间</td>
</tr>
<tr>
<td style="text-align: left;">modify_time</td>
<td style="text-align: left;">datetime</td>
<td style="text-align: left;">是</td>
<td>修改时间</td>
</tr>
<tr>
<td style="text-align: left;">support_permission</td>
<td style="text-align: left;">varchar(100)</td>
<td style="text-align: left;">是</td>
<td>支持推广目标(1-网页推广，2-IOS推广，3-Android推广)</td>
</tr>
</tbody>
</table>
<ul>
<li>备注：无</li>
</ul></div><h1>6、权限说明</h1><div style="margin-left:20px;"><p><strong>权限说明：</strong>
（举例—user：*的权限表示拥有对应权限相关的 create\update\view\delete  全部权限）</p>
<p>权限描述    权限关键字
用户管理    user:<em>
用户新增    user:create
用户修改    user:update
用户查看    user:view
用户删除    user:delete
客户管理    customer:</em>
客户新增    customer:create
客户修改    customer:update
客户查看    customer:view
客户删除    customer:delete
计划管理    campaign:<em>
计划新增    campaign:create
计划修改    campaign:update
计划查看    campaign:view
计划删除    campaign:delete
单元管理    adunit:</em>
单元新建    adunit:create
单元修改    adunit:update
单元查看    adunit:view
单元删除    adunit:delete
创意管理    creative:<em>
创意新增    creative:create
创意修改    creative:update
创意查看    creative:view
创意删除    creative:delete
数据中心    report:</em>
数据查看    report:view</p>
<p><strong>角色列表：</strong></p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th>角色ID</th>
<th>角色名称</th>
<th>角色描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>广告执行</td>
<td>创建计划、单元、创意,跟踪调优等</td>
</tr>
<tr>
<td>2</td>
<td>合同管理员</td>
<td>合同管理、客户充值</td>
</tr>
<tr>
<td>3</td>
<td>代理商</td>
<td>用于对子客户的管理,如账号、充值、代运营等</td>
</tr>
<tr>
<td>4</td>
<td>代理客户</td>
<td>用于客户自身的运营,如创建计划、单元、创意,跟踪调优等</td>
</tr>
<tr>
<td>5</td>
<td>直客</td>
<td>用于客户自身的运营,如创建计划、单元、创意,跟踪调优等</td>
</tr>
<tr>
<td>6</td>
<td>超级管理员</td>
<td>全局读写权限,为平台产品经理、开发、测试等管理维护人员</td>
</tr>
<tr>
<td>7</td>
<td>数据查看员</td>
<td>广告管理模块的查看权,可以按照客户名称/id筛选</td>
</tr>
<tr>
<td>8</td>
<td>只读管理员</td>
<td>客户/计划/单元/创意/数据查看权限</td>
</tr>
</tbody>
</table></div><h1>7、接口服务</h1><div style="margin-left:20px;"><h2>7.1、用户服务</h2><div style="margin-left:20px;"><h3>7.1.1、用户信息接口</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>返回当前用户的基本信息， 用于前端进行渲染数据或者权限控制</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>http://dsp.zybang.com/dsp-admin/user/current</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>GET </li>
</ul>
<p><strong>参数：</strong> </p>
<ul>
<li>无</li>
</ul>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>{
    &quot;data&quot;: {
        &quot;id&quot;: 6875759,
        &quot;name&quot;: &quot;fanglei&quot;, //账号名称
        &quot;customerId&quot;:1000, //关联客户id
        &quot;customeType&quot;:1,   //1-代理商 2-代理子客户 3-直客
        &quot;customerName&quot;: &quot;北京新意互动广告公司&quot;, //关联客户名称
        &quot;type&quot;: 1,  // 1-员工账号 2-客户账号
        &quot;roles&quot;: [&quot;2&quot;,&quot;3&quot;] //1-广告执行 2-合同管理员 3-代理商 4-代理子客户 5-直客 6-超级管理员   7-数据查看员 8-只读管理员   详情可查看权限说明中的角色列表
        &quot;permissions&quot;: {
            &quot;statreport&quot;: [
                &quot;view&quot;
            ],
            &quot;stock&quot;: [
                &quot;*&quot;
            ]
        },
    },
    &quot;status&quot;: 0
}</code></pre></table>
<p><strong>备注</strong> </p>
<ul>
<li>更多返回错误代码请看首页的错误代码描述</li>
</ul></div><h3>7.1.2、外部登录接口</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>外部用户登录接口</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>http://dsp.zybang.com.cn/dsp-admin/user/login</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>POST </li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">说明</th>
<th>必选</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">userName</td>
<td style="text-align: left;">string</td>
<td style="text-align: left;">登录名称</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">password</td>
<td style="text-align: left;">string</td>
<td style="text-align: left;">密码</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">identifyCode</td>
<td style="text-align: left;">string</td>
<td style="text-align: left;">验证码</td>
<td>是</td>
</tr>
</tbody>
</table>
<p><strong>成功示例</strong></p>
<table width='100%' class='codestyle'><pre><code>{

      data: &quot;login success&quot;,

      status: 0

}</code></pre></table>
<p><strong>登陆失败</strong>
{</p>
<table width='100%' class='codestyle'><pre><code>  data: null,

  status: 1,

  message: &quot;用户名密码不能为空！&quot;</code></pre></table>
<p>}</p>
<p><strong>备注</strong> </p>
<ul>
<li>更多返回错误代码请看首页的错误代码描述</li>
</ul></div><h3>7.1.3、登陆验证码接口</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>验证码接口</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>http://dsp.zybang.com/dsp-admin/captcha.jpg</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>GET </li>
</ul>
<p><strong>参数：</strong> </p>
<p>无</p>
<p><strong>返回示例</strong></p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th>名称</th>
<th>类型</th>
<th>含义</th>
<th>是否必需</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>timestamp</td>
<td>date</td>
<td>时间戳</td>
<td>是</td>
<td>每次请求带上当前请求时间戳</td>
</tr>
</tbody>
</table>
<p><strong>流程</strong>
1.生成验证码图片的过滤器</p>
<p>2.提交包含验证码表单</p>
<p>3.生成用于验证码验证的Shiro拦截器在用于身份认证的拦截器</p>
<p><strong>备注</strong> </p>
<ul>
<li>更多返回错误代码请看首页的错误代码描述</li>
</ul></div><h3>7.1.4、客户列表</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>获取客户列表</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>http://dsp.zybang.com.cn/dsp-admin/customer/list</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>POST </li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">说明</th>
<th>必选</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">queryType</td>
<td style="text-align: left;">int</td>
<td style="text-align: left;">查询类型(1-客户名称/2-客户ID/3-客户行业)</td>
<td>否</td>
</tr>
<tr>
<td style="text-align: left;">content</td>
<td style="text-align: left;">String</td>
<td style="text-align: left;">查询内容</td>
<td>否</td>
</tr>
<tr>
<td style="text-align: left;">typeList</td>
<td style="text-align: left;">List</td>
<td style="text-align: left;">1-代理商/2-代理子客户/3-直客</td>
<td>否</td>
</tr>
<tr>
<td style="text-align: left;">pageSize</td>
<td style="text-align: left;">int</td>
<td style="text-align: left;">每页展示条数，默认50</td>
<td>否</td>
</tr>
<tr>
<td style="text-align: left;">pageNum</td>
<td style="text-align: left;">int</td>
<td style="text-align: left;">页码，默认1</td>
<td>否</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>{
    &quot;status&quot;: &quot;0&quot;,
    &quot;data&quot;: {
      &quot;list&quot;:[{
         customerName: &quot;新余市众实汽车服务有限公司&quot;, //客户名称
         customerId: 63261 //客户ID,
         companyName: &quot;客户所属公司&quot; //公司名称
         type: 1 //客户类型,
         primaryIndustry:    汽车, // 一级行业
         secondaryIndustry: 新能源,  // 二级行业
         status: 1, // 状态
         budget: 10000, // 现金账户余额（单位分）
         operatorName: 张三, // 操作人
         createTime: 123131321, //创建时间
         modifyTime: 23232323 //修改时间
        },
        {
         customerName: &quot;新余市众实汽车服务有限公司&quot;, //客户名称
         customerId: 63261 //客户ID,
         companyName: &quot;客户所属公司&quot; //公司名称
         type: 1 //客户类型,
         primaryIndustry:    汽车, // 一级行业
         secondaryIndustry: 新能源,  // 二级行业
         status: 1, // 状态
         budget: 10000, // 现金账户余额（单位分）
         operatorName: 张三, // 操作人
         createTime: 123131321, //创建时间
         modifyTime: 23232323 //修改时间
        }],
        &quot;pageSize&quot;:50              //每页的记录数
        &quot;pageNum&quot;:1         //当前页码
        &quot;total&quot;:51           //总记录数
        &quot;pages&quot;:2          //总页数
    }
}
</code></pre></table></div><h3>7.1.5、修改客户状态</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>修改账号状态</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>http://dsp.zybang.com/dsp-admin/customer/status/update</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>POST </li>
</ul>
<p><strong>请求示例</strong></p>
<table width='100%' class='codestyle'><pre><code>{
    idList: [123,345], //客户ID 
    status: 1
}</code></pre></table>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">说明</th>
<th>必选</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">idList</td>
<td style="text-align: left;">List</td>
<td style="text-align: left;">客户id集合</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">status</td>
<td style="text-align: left;">int</td>
<td style="text-align: left;">1-开启 2-关闭</td>
<td>是</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>{
    &quot;status&quot;: 0,
     &quot;global&quot;: &quot;OK&quot;
}</code></pre></table>
<p><strong>备注</strong> </p>
<ul>
<li>更多返回错误代码请看首页的错误代码描述</li>
</ul></div><h3>7.1.6、客户预算明细接口</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>客户预算明细接口</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>http://dsp.zybang.com/dsp-admin/customer/budget/detail</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>POST </li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">说明</th>
<th>必选</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">customerId</td>
<td style="text-align: left;">Long</td>
<td style="text-align: left;">客户id</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">pageNum</td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">页码</td>
<td>否</td>
<td>默认1</td>
</tr>
<tr>
<td style="text-align: left;">pageSize</td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">页面大小</td>
<td>否</td>
<td>默认50，最大不超过100</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>{
    &quot;status&quot;: 0,
    &quot;data&quot;: {
        &quot;pageNum&quot;: 1,
        &quot;pageSize&quot;: 50,
        &quot;pages&quot;: 10,
        &quot;total&quot;: &quot;488&quot;,
        &quot;list&quot;: [
            {
                &quot;budget&quot;: 60000,
                &quot;date&quot;: 1479286723123,
                &quot;operatorName&quot;: &quot;abc&quot;, // 操作人
            },
            {
                &quot;budget&quot;: -1000,
                &quot;date&quot;: 1479286723123,
                &quot;operatorName&quot;: &quot;edf&quot;, // 操作人
            }
        ]
    }
}</code></pre></table>
<p>list</p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th>字段</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>date</td>
<td>timestamp</td>
<td>分配日期</td>
</tr>
<tr>
<td>budget</td>
<td>Long</td>
<td>分配金额</td>
</tr>
<tr>
<td>pageNum</td>
<td>Integer</td>
<td>页码</td>
</tr>
<tr>
<td>pageSize</td>
<td>Integer</td>
<td>页面大小</td>
</tr>
<tr>
<td>pages</td>
<td>Integer</td>
<td>总页数</td>
</tr>
<tr>
<td>total</td>
<td>Integer</td>
<td>元素总数</td>
</tr>
</tbody>
</table>
<ul>
<li>更多返回错误代码请看首页的错误代码描述</li>
</ul></div><h3>7.1.7、客户预算分配接口</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>预算分配接口</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>http://dsp.zybang.com/dsp-admin/customer/budget/update</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>POST </li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">说明</th>
<th>必选</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">customerId</td>
<td style="text-align: left;">Long</td>
<td style="text-align: left;">客户id</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">budget</td>
<td style="text-align: left;">Long</td>
<td style="text-align: left;">本次分配的预算，单位分</td>
<td>是</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>{
    &quot;status &quot;: 0,
     &quot;global&quot;: &quot;OK&quot;
}</code></pre></table>
<p><strong>备注</strong> </p>
<ul>
<li>更多返回错误代码请看首页的错误代码描述</li>
</ul></div><h3>7.1.8、获取客户行业信息(API调用)</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>根据指定的客户id获取客户信息</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>/dsp-admin/api/customers/getCustomerAndIndustryById?customerId=1</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>GET </li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">说明</th>
<th>必选</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">customerId</td>
<td style="text-align: left;">Long</td>
<td style="text-align: left;">客户ID</td>
<td>是</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>{
    status: 0,
    data: {
        name: &quot;营业执照五十test&quot;,
        createTime: 1487734656000,
        industryName: &quot;汽车经销商&quot;,
        type: 3,
        industryCode: &quot;3604&quot;,
        operatorId: 0,
        status: 1,
        reason: null,
        primaryIndustryId: 100,
        floorPrice: {
            cpm: {
                appFloorPrice: 4000,
                mFloorPrice: 4000,
                pcFloorPrice: 1000
            },
            cpc: {
                appFloorPrice: 1500,
                mFloorPrice: 1500,
                pcFloorPrice: 1500
            }
        },
        id: 1,
        secondaryIndustryId: 134,
    }
}</code></pre></table>
<p><strong>备注</strong> </p>
<ul>
<li>更多返回错误代码请看首页的错误代码描述</li>
</ul></div></div><h2>7.2、创意服务</h2><div style="margin-left:20px;"><h3>7.2.1、创意列表接口</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>创意列表接口</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>http://dsp.zybang.com/dsp-creative/creative/list</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>POST </li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">说明</th>
<th>必选</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">queryType</td>
<td style="text-align: left;">int</td>
<td style="text-align: left;">查询类型</td>
<td>否</td>
<td>1-按照创意ID,2-创意名称</td>
</tr>
<tr>
<td style="text-align: left;">content</td>
<td style="text-align: left;">String</td>
<td style="text-align: left;">查询内容</td>
<td>否</td>
</tr>
<tr>
<td style="text-align: left;">statusList</td>
<td style="text-align: left;">List<Integer></td>
<td style="text-align: left;">创意状态列表</td>
<td>否</td>
<td>默认为未删除；为null表示查询全部，筛选条件</td>
</tr>
<tr>
<td style="text-align: left;">customerId</td>
<td style="text-align: left;">long</td>
<td style="text-align: left;">客户Id</td>
</tr>
<tr>
<td style="text-align: left;">startTime</td>
<td style="text-align: left;">String</td>
<td style="text-align: left;">开始时间</td>
<td>是</td>
<td>默认为七天前，筛选条件</td>
</tr>
<tr>
<td style="text-align: left;">endTime</td>
<td style="text-align: left;">String</td>
<td style="text-align: left;">结束时间</td>
<td>是</td>
<td>默认为今日零点，筛选条件</td>
</tr>
<tr>
<td style="text-align: left;">adunitId</td>
<td style="text-align: left;">Long</td>
<td style="text-align: left;">单元Id</td>
<td>否</td>
<td>单元ID</td>
</tr>
<tr>
<td style="text-align: left;">pageNum</td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">页码</td>
<td>是</td>
<td>默认值为1</td>
</tr>
<tr>
<td style="text-align: left;">pageSize</td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">每页大小</td>
<td>是</td>
<td>默认值为50</td>
</tr>
<tr>
<td style="text-align: left;">campaignId</td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">计划Id</td>
<td>否</td>
<td>计划Id</td>
</tr>
</tbody>
</table>
<p><strong>请求参数示例</strong></p>
<table width='100%' class='codestyle'><pre><code>
{
      &quot;queryType&quot; : 1, // 按照创意ID查询
      &quot;queryConent&quot;: &quot;1111&quot;,
      &quot;status&quot; : [1],      //状态： ，为null表示查询全部
      &quot;startTime&quot; : &quot;2016/09/19&quot;,  //开始时间，有默认值
      &quot;endTime&quot; : &quot;2016/09/29&quot;,     //结束时间
      &quot;pageNum&quot; : 1,  //页码
      &quot;pageSize&quot;       : 20 //每页大小
}</code></pre></table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>
{
        &quot;data&quot;:{
               &quot;list&quot; : [        //返回值
                       {
                       &quot;creativeId&quot; : 12345,  //创意id
                       &quot;creativeType&quot; : 1,            //创意类型
                       //元素信息
                       &quot;value&quot; : &quot;test&quot;,      //文字链内容;图片url;视频url
                       &quot;size&quot; : &quot;200*300&quot;,      //尺寸
                       &quot;operatorId&quot;: 123,     // 操作人
                       &quot;createTime&quot; : 1479286723123,  //创建时间
                       &quot;modifyTime&quot; : 1479286723123,  //修改时间
                       &quot;status&quot; : 1,  //状态
                       //以下是计划信息
                       &quot;campaignId&quot; : 123,    //计划id
                       &quot;campaignName&quot; : &quot;计划名称01&quot;,  //计划名字
                       //以下是单元信息
                       &quot;adunitId&quot; : 1234,     //单元id
                       &quot;adunitName&quot; : &quot;单元名称01&quot;,    //单元名字
                       &quot;clickUrl&quot;: &quot;落地页&quot;,
                       //统计数据
                       &quot;exposeNum&quot; : 10000,   //展示量
                       &quot;clickNum&quot; : 10,       //点击量
                       &quot;clickRate&quot; : 100,     //点击率
                       &quot;clickPrice&quot;:10, //点击均价
                       &quot;cpmPrice&quot;: 10, // 千次曝光均价
                       &quot;consumed&quot; : 10000,    //消耗，单位是分
                       }
               ],
               &quot;total&quot; : 51,
               &quot;pages&quot; : 2,
               &quot;pageNum&quot; : 1,
               &quot;pageSize&quot; : 50
        },
        &quot;status&quot;:0
}</code></pre></table>
<p><strong>备注</strong> </p>
<ul>
<li>更多返回错误代码请看首页的错误代码描述</li>
</ul></div><h3>7.2.2、批量删除创意操作</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>素材批量删除操作</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>http://dsp.zybang.com/dsp-creative/creative/delete</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>POST </li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">说明</th>
<th>必选</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">idList</td>
<td style="text-align: left;">Long[]</td>
<td style="text-align: left;">创意ID</td>
<td>是</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>
{ &quot;data&quot; : {}, &quot;status&quot; : 0 }</code></pre></table>
<p><strong>备注</strong> </p>
<p>依赖现有删除实现：CreativeService.updateStatusList</p></div><h3>7.2.3、批量更新创意状态</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>批量更新创意状态</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code> http://dsp.zybang.com/dsp-creative/creative/status/update</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>POST </li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">说明</th>
<th>必选</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">idList</td>
<td style="text-align: left;">Long[]</td>
<td style="text-align: left;">id列表</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">status</td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">操作类型</td>
<td>是</td>
</tr>
</tbody>
</table>
<p><strong>请求参数示例</strong></p>
<table width='100%' class='codestyle'><pre><code>{
       &quot;idList&quot; : [1,2],   
       &quot;status&quot; : 1  // 1启动 2暂停
}</code></pre></table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>
{
  &quot;data&quot;:{  },
  &quot;status&quot;:0
}</code></pre></table>
<p><strong>备注</strong> </p>
<ul>
<li>更多返回错误代码请看首页的错误代码描述</li>
</ul></div><h3>7.2.4、查询创意信息</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>查询创意信息</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>http://dsp.zybang.com/dsp-creative/creative/{creativeId}</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>GET </li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">说明</th>
<th>必选</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">creativeId</td>
<td style="text-align: left;">Long</td>
<td style="text-align: left;">创意id</td>
<td>是</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>
{
  &quot;data&quot;:{
    &quot;creativeId&quot; : 111,   //创意id
    &quot;adUnitId&quot;:11,
    &quot;creativeType&quot; : 1,   //创意类型
    &quot;optionId&quot;:2,  // 规格ID
    &quot;clickUrl&quot;:&quot;http://www.autohome.com&quot;,
    &quot;elementList&quot;  : [
    {
      &quot;elementId&quot; : 1, //创意元素id
      &quot;elementType&quot; : 1,  //创意元素类型
      &quot;value&quot;:&quot;&quot;,  //
      &quot;key&quot;:&quot;123123213&quot;,  //
      &quot;width&quot;:190,
      &quot;height&quot;:960,
      &quot;size&quot;:20
    },{
      &quot;elementId&quot;:2,
      &quot;elementType&quot; : 5,
      &quot;value&quot;:&quot;http://www.autohome.com&quot;
    },{
      &quot;elementId&quot;:3,
      &quot;elementType&quot; : 2,
      &quot;value&quot;:&quot;test文字&quot;,
      &quot;size&quot;:4
    }
  ]
  },
  &quot;status&quot;:0
}</code></pre></table>
<p><strong>返回参数</strong> </p>
<p>Creative</p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">说明</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">creativeId</td>
<td style="text-align: left;">Long</td>
<td style="text-align: left;">创意id</td>
</tr>
<tr>
<td style="text-align: left;">adUnitId</td>
<td style="text-align: left;">Long</td>
<td style="text-align: left;">单元id</td>
</tr>
<tr>
<td style="text-align: left;">creativeType</td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">创意类型</td>
</tr>
<tr>
<td style="text-align: left;">optionId</td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">规格ID</td>
</tr>
<tr>
<td style="text-align: left;">clickUrl</td>
<td style="text-align: left;">String</td>
<td style="text-align: left;">点击链接</td>
</tr>
<tr>
<td style="text-align: left;">elementList</td>
<td style="text-align: left;">List<CreativeElement></td>
<td style="text-align: left;">元素列表</td>
</tr>
<tr>
<td style="text-align: left;">downloadInfo</td>
<td style="text-align: left;">Download</td>
<td style="text-align: left;">下载信息</td>
<td>可选</td>
</tr>
</tbody>
</table>
<p>CreativeElement</p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">说明</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">Long</td>
<td style="text-align: left;">创意元素id</td>
</tr>
<tr>
<td style="text-align: left;">elementType</td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">创意元素类型</td>
</tr>
<tr>
<td style="text-align: left;">value</td>
<td style="text-align: left;">String</td>
<td style="text-align: left;">元素值：text文案、link值、图片url、视频url</td>
</tr>
<tr>
<td style="text-align: left;">width</td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">元素宽度</td>
</tr>
<tr>
<td style="text-align: left;">height</td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">元素高度</td>
</tr>
<tr>
<td style="text-align: left;">size</td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">元素大小</td>
</tr>
</tbody>
</table>
<ul>
<li>更多返回错误代码请看首页的错误代码描述</li>
</ul></div><h3>7.2.5、获取广告位接口</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>获取广告位接口</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>http://dsp.zybang.com/dsp-creative/creative/position</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>POST </li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">说明</th>
<th>必选</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">creativeType</td>
<td style="text-align: left;">int</td>
<td style="text-align: left;">创意类型</td>
<td>否</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>{
    &quot;status&quot;: 0,
    &quot;data&quot;: [{
        &quot;posId&quot;: 101,
        &quot;name&quot;: &quot;腾讯新闻&quot;,
        &quot;description&quot;: &quot;新闻信息流&quot;,
        &quot;creativeType&quot;: 1, // 1-图片/2-图文/3-文字链
        &quot;width&quot;: 300,
        &quot;height&quot;: 400,
        &quot;createTime&quot;: 12313213123,
        &quot;modifyTime&quot;: 112313132333,
        &quot;options&quot;: [{
            &quot;optionId&quot;: 1,
            &quot;name&quot;: &quot;手机QQ天气内容页中部&quot;,
            &quot;picUrl&quot;: &quot;http://qzonestyle.gtimg.cn/gdt_ui_proj/dist/gdt/imgbox/gif/QQtianqi_582x166.gif&quot;
        }, {
            &quot;optionId&quot;: 2,
            &quot;name&quot;: &quot;黑板报信息流01&quot;,
            &quot;picUrl&quot;: &quot;http://qzonestyle.gtimg.cn/gdt_ui_proj/dist/gdt/imgbox/gif/QQtianqi_582x166.gif&quot;
        }]
    }]
}</code></pre></table>
<p><strong>备注</strong> </p>
<ul>
<li>更多返回错误代码请看首页的错误代码描述</li>
</ul></div><h3>7.2.6、获取广告位规格接口</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>获取广告位规格接口</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>http://dsp.zybang.com/dsp-creative/creative/options</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>POST </li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">说明</th>
<th>必选</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">adunitId</td>
<td style="text-align: left;">Long</td>
<td style="text-align: left;">单元ID</td>
<td>是</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>{
    &quot;status&quot;: 0,
    &quot;data&quot;:{
    &quot;promotionType&quot;:1,
    &quot;creativeType&quot;: 2,
    &quot;options&quot;: [{
        &quot;id&quot;: 797,
        &quot;name&quot;: &quot;单图&quot;,
        &quot;height&quot;: 135,
        &quot;width&quot;: 180,
        &quot;elements&quot;: [{
                &quot;id&quot;: 1903,
                &quot;optionId&quot;: 797,
                &quot;type&quot;: 1, // 元素类型1-图片/2-文字/3-视频/4-监控链接
                &quot;width&quot;: 180,
                &quot;height&quot;: 135,
                &quot;min&quot;: 50, // 图片大小/文字长度
                &quot;max&quot;: 100, // 图片大小/文字长度
                &quot;spaceHolder&quot;: &quot;PICTURE&quot;,
                &quot;supportType&quot;: &quot;.jpg,.png&quot;
            }]
    },
    {
        &quot;id&quot;: 798,
        &quot;name&quot;: &quot;多图&quot;,
        &quot;height&quot;: 135,
        &quot;width&quot;: 180,
        &quot;status&quot;: 1,
        &quot;elements&quot;: [{
                &quot;id&quot;: 1903,
                &quot;optionId&quot;: 798,
                &quot;type&quot;: 1, // 元素类型1-图片/2-文字/3-视频
                &quot;width&quot;: 180,
                &quot;height&quot;: 135,
                &quot;min&quot;: 50, // 图片大小/文字长度
                &quot;max&quot;: 100, // 图片大小/文字长度
                &quot;spaceHolder&quot;: &quot;PICTURE&quot;,
                &quot;supportType&quot;: &quot;.jpg,.png&quot;
            },
            {
                &quot;id&quot;: 1904,
                &quot;optionId&quot;: 798,
                &quot;type&quot;: 1, // 元素类型1-图片/2-文字/3-视频
                &quot;width&quot;: 180,
                &quot;height&quot;: 135,
                &quot;min&quot;: 10, // 图片大小/文字链长度
                &quot;max&quot;: 20, // 图片大小/文字链长度
                &quot;spaceHolder&quot;: &quot;PICTURE&quot;,
                &quot;supportType&quot;: &quot;.jpg,.png&quot;
            },
            {
                &quot;id&quot;: 1905,
                &quot;optionId&quot;: 798,
                &quot;type&quot;: 1, // 元素类型1-图片/2-文字/3-视频
                &quot;width&quot;: 180,
                &quot;height&quot;: 135,
                &quot;min&quot;: 10, // 图片大小/文字链长度
                &quot;max&quot;: 20, // 图片大小/文字链长度
                &quot;spaceHolder&quot;: &quot;PICTURE&quot;,
                &quot;supportType&quot;: &quot;.jpg,.png&quot;
            }
        ]
    }]
    }
}</code></pre></table>
<p><strong>备注</strong> </p>
<ul>
<li>更多返回错误代码请看首页的错误代码描述</li>
</ul></div><h3>7.2.7、修改创意接口</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>修改创意接口</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code> http://dsp.zybang.com/dsp-creative/creative/update</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>POST </li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">说明</th>
<th>必选</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">CreativeVo</td>
<td style="text-align: left;">json</td>
<td style="text-align: left;">数据json串</td>
<td>是</td>
</tr>
</tbody>
</table>
<p>CreativeVo</p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">说明</th>
<th>必选</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">creativeId</td>
<td style="text-align: left;">Long</td>
<td style="text-align: left;">创意ID</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">clickUrl</td>
<td style="text-align: left;">String</td>
<td style="text-align: left;">跳转链接</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">elementList</td>
<td style="text-align: left;">List<CreativeElementVO></td>
<td style="text-align: left;">元素列表</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">downloadInfo</td>
<td style="text-align: left;">Download</td>
<td style="text-align: left;">下载信息</td>
<td>否</td>
</tr>
</tbody>
</table>
<p>CreativeElementVO</p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">说明</th>
<th>必选</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">elementId</td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">规格元素ID</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">value</td>
<td style="text-align: left;">String</td>
<td style="text-align: left;">文字内容、图片或者视频url</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">key</td>
<td style="text-align: left;">String</td>
<td style="text-align: left;">图片和视频的时候AES加密串</td>
<td>是</td>
</tr>
</tbody>
</table>
<p><strong>请求参数示例</strong></p>
<table width='100%' class='codestyle'><pre><code>
{
  &quot;creativeId&quot; : 12345,   //创意id
  &quot; clickUrl &quot; : “”, 
  //以下是元素信息
   &quot;elementList &quot; : [{
      &quot;elementId&quot; : 100,  //规格元素ID
      &quot;value&quot; : &quot;saaaa&quot; //
    },
    &quot;elementId&quot; : 105, 
      &quot;value&quot; : &quot;monitor_url&quot; //
    }]
}</code></pre></table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>
{
  &quot;status&quot;:0,
  &quot;global&quot;:&quot;OK&quot;
}</code></pre></table>
<p><strong>备注</strong> </p>
<ul>
<li>更多返回错误代码请看首页的错误代码描述</li>
</ul></div><h3>7.2.8、创意文件上传接口</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>创意文件上传接口</li>
</ul>
<p><strong>流程设计</strong>
1）参数有效性校验
2）用户是否有权限修改此创意
3）文件校验及上传</p>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>http://dsp.zybang.com/dsp-creative/creative/upload</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>POST </li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">说明</th>
<th>必选</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">elementId</td>
<td style="text-align: left;">Long</td>
<td style="text-align: left;">规格元素ID</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">file</td>
<td style="text-align: left;">MultipartFile</td>
<td style="text-align: left;">文件</td>
<td>是</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>
{
  &quot;data&quot;: {
             &quot;height&quot;:100,
             &quot;width&quot;:100,
             &quot;size&quot;:2000,
             &quot;value&quot;:&quot;http://picture.url&quot;,
             &quot;key&quot;:&quot;2A36B67C6&quot;
      },
  &quot;status&quot;:0
}

失败示例
{
  &quot;status&quot;:1, // 具体错误码请参考全局错误说明
  &quot;global&quot;:&quot;errorMsg&quot;
}</code></pre></table>
<p><strong>返回参数</strong></p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">说明</th>
<th>必选</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">value</td>
<td style="text-align: left;">String</td>
<td style="text-align: left;">元素值：图片url、视频url</td>
</tr>
<tr>
<td style="text-align: left;">width</td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">宽度</td>
</tr>
<tr>
<td style="text-align: left;">height</td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">高度</td>
</tr>
<tr>
<td style="text-align: left;">size</td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">大小：图片的K数；视频的容量</td>
</tr>
<tr>
<td style="text-align: left;">key</td>
<td style="text-align: left;">String</td>
<td style="text-align: left;">图片和视频时的AES加密串</td>
</tr>
</tbody>
</table>
<ul>
<li>更多返回错误代码请看首页的错误代码描述</li>
</ul></div><h3>7.2.9、新建创意接口</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong> </p>
<p>-保存创意接口</p>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>http://dsp.zybang.com/dsp-creative/creative/save</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>POST </li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">说明</th>
<th>必选</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">SaveVO</td>
<td style="text-align: left;">json</td>
<td style="text-align: left;">创意保存</td>
<td>是</td>
</tr>
</tbody>
</table>
<p>SaveVO</p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">说明</th>
<th>必选</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">adunitId</td>
<td style="text-align: left;">Long</td>
<td style="text-align: left;">单元id</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">list</td>
<td style="text-align: left;">List<CreativeVO></td>
<td style="text-align: left;">创意集合</td>
<td>是</td>
</tr>
</tbody>
</table>
<p>CreativeVo</p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">说明</th>
<th>必选</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">optionId</td>
<td style="text-align: left;">String</td>
<td style="text-align: left;">规格ID</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">clickUrl</td>
<td style="text-align: left;">String</td>
<td style="text-align: left;">点击链接</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">elementList</td>
<td style="text-align: left;">List<CreativeElementVo></td>
<td style="text-align: left;">各元素信息</td>
<td>是</td>
</tr>
</tbody>
</table>
<p>CreativeElementVo</p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">说明</th>
<th>必选</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">elementId</td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">规格元素ID</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">value</td>
<td style="text-align: left;">String</td>
<td style="text-align: left;">创意元素内容</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">key</td>
<td style="text-align: left;">String</td>
<td style="text-align: left;">AES加密串</td>
<td>是</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>{
  &quot;status&quot;:3002,
  &quot;message&quot;: &quot;广告创意保存失败&quot;
}</code></pre></table>
<p><strong>备注</strong> </p>
<ul>
<li>更多返回错误代码请看首页的错误代码描述</li>
</ul></div><h3>7.2.10、批量修改监控链接</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>批量修改监控链接</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>http://dsp.zybang.com/dsp-creative/creative/monitor_url/update</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>POST </li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">说明</th>
<th>必选</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">idList</td>
<td style="text-align: left;">List<Long></td>
<td style="text-align: left;">创意ID</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">urlList</td>
<td style="text-align: left;">List<String></td>
<td style="text-align: left;">监控链接</td>
<td>是</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>
{ &quot;data&quot; : {}, &quot;status&quot; : 0 }</code></pre></table>
<p><strong>流程</strong>
1、参数校验</p>
<p>2、素材ID有效性校验</p>
<p>3、更新点击链接/监控链接</p></div><h3>7.2.11、批量修改点击链接</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>批量修改监控链接/点击链接</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>http://dsp.zybang.com/dsp-creative/creative/click_url/update</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>POST </li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">说明</th>
<th>必选</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">idList</td>
<td style="text-align: left;">List<Long></td>
<td style="text-align: left;">创意ID</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">clickUrl</td>
<td style="text-align: left;">String</td>
<td style="text-align: left;">点击链接</td>
<td>是</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>{ &quot;data&quot; : {}, &quot;status&quot; : 0 }</code></pre></table>
<p><strong>流程</strong> </p>
<p>1、参数校验</p>
<p>2、素材ID有效性校验</p>
<p>3、更新点击链接/监控链接</p></div><h3>7.2.12、增量分发(服务调用)</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong> </p>
<p>定时候获取adx审核信息，审核通过的发送增量信息；</p>
<p>修改创意信息，不需要重新审核的，发送增量信息。</p>
<p>因为尺寸归一需求（具体请看相关PRD），分发的时候一个option对应多个ADX模版ID时，发送多个</p>
<p>使用kafka发给分发系统(publish)，整理之后发给引擎。</p>
<p>发送数据格式：</p>
<table width='100%' class='codestyle'><pre><code>{
    &quot;id&quot;:1, //创意id, creativeId
    &quot;businessType&quot;:3, //1-计划，2-单元，3-创意
    &quot;operationType&quot;:1, //1-新增  2-修改 3-删除 4-重启 5-暂停 6-转换新增
    &quot;content&quot;:[{
        &quot;id&quot; : 1, //审核记录id
    &quot;accountId&quot; : 1,  //账户id
        &quot;campaignId&quot; : 2,  //计划id
        &quot;adUnitId&quot; : 1,   //单元id
        &quot;adxId&quot; : 1,     //
        &quot;creativeId&quot; : 1,   //创意id
        &quot;adxCreativeId&quot; : 1,  // adx创意id 
        &quot;adxTemplateId&quot; : 1,   // adx模板Id
        &quot;creativeType&quot; : 1, //创意类型
        &quot;creativeWidth&quot; : 100,
        &quot;creativeHeight&quot; : 100,
        &quot;supportType&quot;: “.png,.gif”,   // 支持格式
        &quot;content&quot; : &quot;&quot; ,  //
        &quot;clickUrl&quot; : &quot;&quot;,   //点击链接
        &quot;monitorUrl&quot;:&quot;&quot;,  //曝光链接
        &quot;status&quot; : 1, //状态
    &quot;goodsId&quot;:123
    }]
}</code></pre></table></div><h3>7.2.13、全量分发接口：根据计划/单元/创意id列表查询创意列表. (服务调用)</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>
<p>每天定时发送第二天的全量时，需要调用此接口获取计划/单元下的所有可投放（暂停和审核通过）创意。</p>
</li>
<li>因为尺寸归一需求（具体请看相关PRD），分发的时候一个option对应多个ADX模版ID时，发送多个</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>/dsp-creative/api/creative/list</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>GET </li>
</ul>
<p><strong>请求参数示例</strong></p>
<table width='100%' class='codestyle'><pre><code>
{
      &quot;bizType&quot;:1,       //对象类型：1.计划，2.单元， 3.创意
      &quot;idList&quot;:[1,2,3],
      &quot;page&quot;:1,
      &quot;pageSize&quot;:1000
}</code></pre></table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>
{
      &quot;data&quot;:{
             &quot;list&quot; : [{
                    &quot;id&quot; : 1, //审核记录id
                    &quot;accountId&quot; : 1,  //账户id
                    &quot;campaignId&quot; : 2,  //计划id
                    &quot;adUnitId&quot; : 1,   //单元id
                    &quot;adxId&quot; : 1,     //
                    &quot;creativeId&quot; : 1,   //创意id
                    &quot;adxCreativeId&quot; : 1,  // adx创意id
                    &quot;supportType&quot;: “.png,.gif”,   // 支持格式
                    &quot;adxTemplateId&quot; : 1,   // adx模板Id
                    &quot;creativeType&quot; : 1, //创意类型
                    &quot;creativeWidth&quot; : 100,
                    &quot;creativeHeight&quot; : 100,
                    &quot;content&quot; : &quot;&quot; ,  //
                    &quot;clickUrl&quot; : &quot;&quot;,   //点击链接
                    &quot;monitorUrl&quot;:&quot;&quot;,  //曝光链接
                    &quot;status&quot; : 1, //状态
                    &quot;goodsId&quot;:123
             }],
             &quot;totalCount&quot; : 51,
             &quot;totalPage&quot; : 2,
             &quot;page&quot; : 1,
             &quot;pageSize&quot; : 50,
      },
      &quot;status&quot;:0,
      &quot;statusInfo&quot;:{&quot;global&quot;:&quot;OK&quot;}
}</code></pre></table>
<p><strong>备注</strong> </p>
<ul>
<li>更多返回错误代码请看首页的错误代码描述</li>
</ul></div><h3>7.2.14、API-批量删除(计划/单元下的)创意 (服务调用)</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>
<p>删除计划或者单元时，需要级联删除计划或者单元下的所有创意。</p>
</li>
<li>删除计划/单元操作中，会通知dsp引擎下线计划/单元，所以这里级联删除的时候不需要再次通知dsp引擎。</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>/dsp-creative/api/creative/list/delete</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>POST </li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">说明</th>
<th>必选</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">bizType</td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">对象类型：1.计划，2.单元，3.创意</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">idList</td>
<td style="text-align: left;">Long[]</td>
<td style="text-align: left;">id列表</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">operatorId</td>
<td style="text-align: left;">Long</td>
<td style="text-align: left;">操作人id</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">operatorName</td>
<td style="text-align: left;">String</td>
<td style="text-align: left;">操作人名字</td>
<td>是</td>
</tr>
</tbody>
</table>
<p><strong>请求参数示例</strong></p>
<table width='100%' class='codestyle'><pre><code>{
       &quot;bizType&quot; : 1,     //
       &quot;idList&quot; : [1,2,3],       //
       &quot;operatorId&quot;:123,
       &quot;operatorName&quot;:&quot;操作人&quot;
}</code></pre></table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>{
  &quot;data&quot;:{  },
  &quot;status&quot;:0,
  &quot;statusInfo&quot;:{&quot;global&quot;:&quot;OK&quot;}
}</code></pre></table>
<p><strong>备注</strong> </p>
<ul>
<li>更多返回错误代码请看首页的错误代码描述</li>
</ul></div></div><h2>7.3、投放服务</h2><div style="margin-left:20px;"><h3>7.3.1、计划列表接口</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>获取分页计划列表</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>http://dsp.zybang.com/dsp-advert/campaigns/list</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>POST </li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">说明</th>
<th>必选</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">queryType</td>
<td style="text-align: left;">int</td>
<td style="text-align: left;">条件类型1:计划名称 2: 计划ID</td>
<td>否</td>
</tr>
<tr>
<td style="text-align: left;">content</td>
<td style="text-align: left;">string</td>
<td style="text-align: left;">条件值</td>
<td>否</td>
</tr>
<tr>
<td style="text-align: left;">customerId</td>
<td style="text-align: left;">long</td>
<td style="text-align: left;">客户ID</td>
<td>否</td>
</tr>
<tr>
<td style="text-align: left;">statusList</td>
<td style="text-align: left;">int[]</td>
<td style="text-align: left;">计划状态</td>
<td>否</td>
</tr>
<tr>
<td style="text-align: left;">promotionType</td>
<td style="text-align: left;">int</td>
<td style="text-align: left;">推广目的</td>
<td>否</td>
</tr>
<tr>
<td style="text-align: left;">startTime</td>
<td style="text-align: left;">datetime</td>
<td style="text-align: left;">计划数据开始时间</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">endTime</td>
<td style="text-align: left;">datetime</td>
<td style="text-align: left;">计划数据结束时间</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">pageSize</td>
<td style="text-align: left;">int</td>
<td style="text-align: left;">每页数量</td>
<td>否</td>
</tr>
<tr>
<td style="text-align: left;">pageNum</td>
<td style="text-align: left;">int</td>
<td style="text-align: left;">页号</td>
<td>否</td>
</tr>
</tbody>
</table>
<p><strong>输入参数示例</strong></p>
<table width='100%' class='codestyle'><pre><code>
{ 
  &quot;queryType&quot;:1,
   &quot;queryContent&quot;:&quot;AD-JXS-201612-00104&quot;,
  &quot;pageNum&quot;:1,
  &quot;pageSize&quot;:50,//如果为空 默认是50,大于100 按照100处理
  &quot;statusList&quot;:[1,2,3],  //计划状态
  &quot;startTime&quot;:12345678,//计划列表中统计数据的起始时间
  &quot;endTime&quot;:12345679876543,//默认T-7
}</code></pre></table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>
{

“data”:{
“list”:[{
“id”:1,
“name”:”计划”,
&quot;promotionType&quot;: 1, // 推广目的
“status”:1,//计划状态 (1:投放中；2:下线-达到日预算；3:下线-达到账户预算； 4:暂停；999:删除)
&quot;dayBudget&quot;: 10000, // 计划日预算(单位分)
 “exposeNum”:80000,//曝光量
“clickNum”:7999,//点击量
“clickRate”:9099,//点击率
&quot;clickPrice&quot;:1500,//点击均价；  单位是分 消费/点击量
&quot;cpmPrice&quot;:1500,//千次展示均价；  单位是分 消费/曝光量
&quot;consumed&quot;: 232323, //总消耗
“modifyTime”：15454512,
“createTime”：121445452,
“operatorId”:1,//操作人Id
“operatorName”:”zhangsan” //创建人姓名
}] ,
      &quot;navigatePages&quot;: 8,
        &quot;navigatepageNums&quot;: [ 1, 2 ],
        &quot;endRow&quot;: 5,
        &quot;firstPage&quot;: 1,
        &quot;hasNextPage&quot;: true,
        &quot;hasPreviousPage&quot;: false,
        &quot;isFirstPage&quot;: true,
        &quot;isLastPage&quot;: false,
        &quot;lastPage&quot;: 2,
        &quot;nextPage&quot;: 2,
        &quot;orderBy&quot;: null,
        &quot;pageNum&quot;: 1,
        &quot;pageSize&quot;: 5,
        &quot;pages&quot;: 2,
        &quot;prePage&quot;: 0,
        &quot;size&quot;: 5,
        &quot;startRow&quot;: 1,
        &quot;total&quot;: 7
 },
“status”:0
}</code></pre></table>
<p><strong>异常提示</strong> </p>
<table width='100%' class='codestyle'><pre><code>
{
    &quot;status&quot;: 1,
    &quot;global &quot;: &quot;系统异常， 请联系系统管理员（ 错误码： A003） &quot;
}
``</code></pre></table></div><h3>7.3.2、删除计划</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>删除计划</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>http://dsp.zybang.com/dsp-advert/campaigns/delete/{id}</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>GET </li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">说明</th>
<th>必选</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">Long</td>
<td style="text-align: left;">计划ID</td>
<td>是</td>
</tr>
</tbody>
</table>
<p><strong>输入参数示例</strong></p>
<p>无</p>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>{
    &quot;data&quot;: { },
    &quot;status&quot;:0
}</code></pre></table>
<p><strong>异常提示</strong> </p>
<table width='100%' class='codestyle'><pre><code>{
    &quot;status&quot;: 1,
    &quot;global &quot;: &quot;系统异常， 请联系系统管理员（ 错误码： A003） &quot;
}</code></pre></table>
<p><strong>备注</strong> </p>
<p>前端根据status值判断是否操作成功；成功（0），错误（1）</p>
<ul>
<li>更多返回错误代码请看首页的错误代码描述</li>
</ul></div><h3>7.3.3、获取计划信息</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>根据计划ID获取计划信息</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>http://dsp.zybang.com/dsp-advert/campaigns/{id}</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>GET </li>
</ul>
<p><strong>参数：</strong> </p>
<p>无</p>
<p><strong>输入参数示例</strong></p>
<p>无</p>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>{

    &quot;data&quot;: {

        &quot;id&quot;: 1,

        &quot;name&quot;: &quot;test1&quot;,

        &quot;customerId&quot;: 1,       // 客户id

        &quot;promotionType&quot;: 1, // 推广目标

        &quot;dayBudget&quot;: 12300, // 计划日预算

       &quot;operatorName&quot;: &quot;张三&quot;,  // 修改人

       &quot;createTime&quot;: &quot;123456477&quot;,  // 创建时间

        &quot;modifyTime&quot;: &quot;123456477&quot;,

        &quot;secondaryIndustryCode&quot;: 1,

        &quot;status&quot;: 1

    },

    &quot;status&quot;:0,

    &quot;statusInfo&quot;: {

        &quot;global&quot;: &quot;OK&quot;

    }

}</code></pre></table>
<p><strong>异常提示</strong> </p>
<table width='100%' class='codestyle'><pre><code>{
    &quot;status&quot;: 1000,  // 具体参见全局错误码
    &quot;global &quot;: &quot;系统异常， 请联系系统管理员（ 错误码： A003） &quot;
}</code></pre></table>
<p><strong>备注</strong> </p>
<p>前端根据status值判断是否操作成功；成功（0)</p>
<ul>
<li>更多返回错误代码请看首页的错误代码描述</li>
</ul></div><h3>7.3.4、批量修改计划状态</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>.批量修改计划状态</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>http://dsp.zybang.com/dsp-advert/campaigns/status/update</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>POST </li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">说明</th>
<th>必选</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">List</td>
<td style="text-align: left;">计划id数组</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">status</td>
<td style="text-align: left;">int</td>
<td style="text-align: left;">状态 1:启动，2：暂停</td>
<td>是</td>
</tr>
</tbody>
</table>
<p><strong>输入参数示例</strong></p>
<table width='100%' class='codestyle'><pre><code>
{
 “id”: [1000,1001], //计划ID
 “status”:1  //1:启动 ，2：暂停
}</code></pre></table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>
{
“data”:{},
“status”:0,
}</code></pre></table>
<p><strong>异常提示</strong> </p>
<table width='100%' class='codestyle'><pre><code>{
    &quot;status&quot;: 1,
    &quot;global &quot;: &quot;系统异常， 请联系系统管理员（ 错误码： A003） &quot;
}</code></pre></table>
<p><strong>备注</strong> </p>
<p>前端根据status值判断是否操作成功；成功（0），错误（1）</p></div><h3>7.3.5、修改计划日预算</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>修改计划日预算</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>http://dsp.zybang.com/dsp-advert/campaigns/budget/update</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>POST </li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">说明</th>
<th>必选</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">long</td>
<td style="text-align: left;">计划id</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">dayBudget</td>
<td style="text-align: left;">int</td>
<td style="text-align: left;">日预算，单位：分</td>
<td>是</td>
</tr>
</tbody>
</table>
<p><strong>输入参数示例</strong></p>
<table width='100%' class='codestyle'><pre><code>{&quot;id&quot;:1,&quot;budget&quot;:100000} //单位是分</code></pre></table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>
{
 &quot;data&quot;:{},
 &quot;status&quot;:0
}
</code></pre></table>
<p><strong>异常提示</strong> </p>
<table width='100%' class='codestyle'><pre><code>{
    &quot;status&quot;: 1,
    &quot;global &quot;: &quot;系统异常， 请联系系统管理员（ 错误码： A003） &quot;
}</code></pre></table>
<p><strong>备注</strong> </p>
<p>前端根据status值判断是否操作成功；成功（0），错误（1）</p></div><h3>7.3.6、修改计划</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>.修改计划</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>http://dsp.zybang.com/dsp-advert/campaigns/update</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>POST </li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">说明</th>
<th>必选</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">long</td>
<td style="text-align: left;">计划id</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">name</td>
<td style="text-align: left;">String</td>
<td style="text-align: left;">计划名称</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">dayBudget</td>
<td style="text-align: left;">int</td>
<td style="text-align: left;">日预算，单位：分</td>
<td>否</td>
</tr>
</tbody>
</table>
<p><strong>输入参数示例</strong></p>
<table width='100%' class='codestyle'><pre><code>
{
 “id”:1000，//计划名称
 “name”:”计划一”,
“dayBudget:100000,  //计划预算,单位为分
}</code></pre></table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>
{
“data”:{},
“status”:0,
“global”:”OK”
}</code></pre></table>
<p><strong>异常提示</strong> </p>
<table width='100%' class='codestyle'><pre><code>{
    &quot;status&quot;: 1,
    &quot;global &quot;: &quot;系统异常， 请联系系统管理员（ 错误码： A003） &quot;
}</code></pre></table>
<p><strong>备注</strong> </p>
<p>前端根据status值判断是否操作成功；成功（0），错误（1）</p>
<ul>
<li>更多返回错误代码请看首页的错误代码描述</li>
</ul></div><h3>7.3.7、计划快捷修改名称接口</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>.计划快捷修改名称接口</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>http://dsp.zybang.com/dsp-advert/campaigns/name/update</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>POST </li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">说明</th>
<th>必选</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">long</td>
<td style="text-align: left;">计划id</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">name</td>
<td style="text-align: left;">String</td>
<td style="text-align: left;">计划名称</td>
<td>是</td>
</tr>
</tbody>
</table>
<p><strong>输入参数示例</strong></p>
<table width='100%' class='codestyle'><pre><code>
{
 “id”:1000，//计划名称
 “name”:”计划一”
}</code></pre></table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>
{
“data”:{},
“status”:0
}</code></pre></table>
<p><strong>异常提示</strong> </p>
<table width='100%' class='codestyle'><pre><code>{
    &quot;status&quot;: 1003,
    &quot;global &quot;: &quot;计划名称不能重复 &quot;
}</code></pre></table>
<p><strong>备注</strong> </p>
<p>前端根据status值判断是否操作成功；成功（0），错误（1）</p>
<ul>
<li>更多返回错误代码请看首页的错误代码描述</li>
</ul></div><h3>7.3.8、新建计划</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>.新增计划</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>http://dsp.zybang.com/dsp-advert/campaigns/save</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>POST </li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">说明</th>
<th>必选</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">name</td>
<td style="text-align: left;">String</td>
<td style="text-align: left;">计划名称</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">dayBudget</td>
<td style="text-align: left;">Long</td>
<td style="text-align: left;">日预算，单位：分</td>
<td>否</td>
</tr>
<tr>
<td style="text-align: left;">promotionType</td>
<td style="text-align: left;">int</td>
<td style="text-align: left;">推广目的1-网页/2-IOS应用/3-Android应用</td>
<td>是</td>
</tr>
</tbody>
</table>
<p><strong>输入参数示例</strong></p>
<table width='100%' class='codestyle'><pre><code>{
“name”:”计划”，//计划名称,
“dayBudget:100000,  //计划预算,单位为分
“promotionType”:1,//推广目的1-网页/2-IOS应用/3-Android应用
}</code></pre></table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>{
“data”:{“id”:1,”name”:”计划”},
“status”:0,
}</code></pre></table>
<p><strong>异常提示</strong> </p>
<table width='100%' class='codestyle'><pre><code>{
    &quot;status&quot;: 1,
    &quot;global &quot;: &quot;系统异常， 请联系系统管理员（ 错误码： A003） &quot;
}</code></pre></table>
<p><strong>备注</strong> </p>
<p>前端根据status值判断是否操作成功；成功（0），错误（1）</p>
<ul>
<li>更多返回错误代码请看首页的错误代码描述</li>
</ul></div><h3>7.3.9、单元列表接口</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>单元列表接口</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>http://dsp.zybang.com/dsp-advert/adunits/list</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>POST </li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">说明</th>
<th>必选</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">queryType</td>
<td style="text-align: left;">int</td>
<td style="text-align: left;">查询类型(1-单元名称/2-单元ID)</td>
<td>否</td>
</tr>
<tr>
<td style="text-align: left;">content</td>
<td style="text-align: left;">String</td>
<td style="text-align: left;">内容</td>
<td>否</td>
</tr>
<tr>
<td style="text-align: left;">campaignId</td>
<td style="text-align: left;">Long</td>
<td style="text-align: left;">计划ID</td>
<td>否</td>
</tr>
<tr>
<td style="text-align: left;">statusList</td>
<td style="text-align: left;">Integer[]</td>
<td style="text-align: left;">单元状态</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">startTime</td>
<td style="text-align: left;">Date</td>
<td style="text-align: left;">统计开始时间</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">endTime</td>
<td style="text-align: left;">Date</td>
<td style="text-align: left;">统计结束时间</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">pageNum</td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">页码 默认值为1</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">pageSize</td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">每页大小 默认值为50</td>
<td>是</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>{
    &quot;status&quot;: 0,
    &quot;data&quot;: {
        &quot;endRow&quot;: 28,
        &quot;firstPage&quot;: 1,
        &quot;hasNextPage&quot;: false,
        &quot;hasPreviousPage&quot;: false,
        &quot;isFirstPage&quot;: true,
        &quot;isLastPage&quot;: true,
        &quot;lastPage&quot;: 1,
        &quot;list&quot;: [
            {
                &quot;adUnitTarget&quot;: [
                    {
                        &quot;mutexeType&quot;: 0,
                        &quot;name&quot;: &quot;购车阶段&quot;,
                        &quot;options&quot;: null,
                        &quot;targetId&quot;: 106121,
                        &quot;type&quot;: &quot;list&quot;,
                        &quot;values&quot;: [
                            {
                                &quot;children&quot;: null,
                                &quot;name&quot;: &quot;考虑&quot;,
                                &quot;targetValue&quot;: 1061210002
                            }
                        ]
                    },
                    {
                        &quot;mutexeType&quot;: 0,
                        &quot;name&quot;: &quot;购车目的&quot;,
                        &quot;options&quot;: null,
                        &quot;targetId&quot;: 108133,
                        &quot;type&quot;: &quot;list&quot;,
                        &quot;values&quot;: [
                            {
                                &quot;children&quot;: null,
                                &quot;name&quot;: &quot;接送小孩&quot;,
                                &quot;targetValue&quot;: 1081330003
                            }
                        ]
                    },
                    {
                        &quot;mutexeType&quot;: 1,
                        &quot;name&quot;: &quot;自定义人群&quot;,
                        &quot;options&quot;: null,
                        &quot;targetId&quot;: 112140,
                        &quot;type&quot;: &quot;mctree&quot;,
                        &quot;values&quot;: [
                            {
                                &quot;children&quot;: null,
                                &quot;name&quot;: &quot;重定向人群1&quot;,
                                &quot;targetValue&quot;: 11214039
                            },
                            {
                                &quot;children&quot;: null,
                                &quot;name&quot;: &quot;重定向人群2&quot;,
                                &quot;targetValue&quot;: 11214040
                            },
                            {
                                &quot;children&quot;: null,
                                &quot;name&quot;: &quot;人群包名称2&quot;,
                                &quot;targetValue&quot;: 11214036
                            }
                        ]
                    },
                    {
                        &quot;mutexeType&quot;: 0,
                        &quot;name&quot;: &quot;自定义人群&quot;,
                        &quot;options&quot;: null,
                        &quot;targetId&quot;: 112140,
                        &quot;type&quot;: &quot;mctree&quot;,
                        &quot;values&quot;: [
                            {
                                &quot;children&quot;: null,
                                &quot;name&quot;: &quot;重定向人群3多选updat1e&quot;,
                                &quot;targetValue&quot;: 11214041
                            },
                            {
                                &quot;children&quot;: null,
                                &quot;name&quot;: &quot;这个能选，在单元里，请点击&quot;,
                                &quot;targetValue&quot;: 11214034
                            },
                            {
                                &quot;children&quot;: null,
                                &quot;name&quot;: &quot;人群包名称3&quot;,
                                &quot;targetValue&quot;: 11214037
                            }
                        ]
                    }
                ],
                &quot;bidPrice&quot;: 1200, // 出价
                &quot;bidType&quot;: 2, // 1-CPM/2-CPC
                &quot;campaignId&quot;: 266,
                &quot;campaignName&quot;: &quot;计划名称&quot;,
                &quot;exposeNum&quot;: -1, // 曝光数
                &quot;clickNum&quot;: -1,
                &quot;clickPrice&quot;: -1,
                &quot;cpmPrice&quot;: -1,
                &quot;clickRate&quot;: -1,
                &quot;consumed&quot;: -1, // 消耗
                &quot;createTime&quot;: 1503317307000,
                &quot;customerId&quot;: 505631,
                &quot;id&quot;: 293,      //单元ID
                &quot;startTime&quot;: 12313 // 单元投放开始
                &quot;endTime&quot;: null // 单元投放结束
                &quot;posName&quot;: &quot;广告位名称&quot;,
                 &quot;name&quot;: &quot;1212121212&quot;,
                &quot;modifyTime&quot;: 1503382806000,
                &quot;operatorId&quot;: 267,
                &quot;operatorName&quot;: &quot;0513test&quot;,
                &quot;pubTime&quot;: [],
                &quot;pubTimeType&quot;: 1,
                &quot;status&quot;: 102
            }
        ],
        &quot;navigatePages&quot;: 8,
        &quot;navigatepageNums&quot;: [
            1
        ],
        &quot;nextPage&quot;: 0,
        &quot;orderBy&quot;: null,
        &quot;pageNum&quot;: 1,
        &quot;pageSize&quot;: 29,
        &quot;pages&quot;: 1,
        &quot;prePage&quot;: 0,
        &quot;size&quot;: 29,
        &quot;startRow&quot;: 0,
        &quot;total&quot;: 29
    }
}</code></pre></table>
<p><strong>异常提示</strong> </p>
<table width='100%' class='codestyle'><pre><code>{
    &quot;status&quot;: 1,
    &quot;global &quot;: &quot;系统异常， 请联系系统管理员（ 错误码： A003） &quot;
}</code></pre></table></div><h3>7.3.10、单元查看接口</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>单元查看接口</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>http://dsp.zybang.com/dsp-advert/adunits/{adunitId}</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>
<p>GET </p>
<p><strong>返回示例</strong></p>
</li>
</ul>
<table width='100%' class='codestyle'><pre><code>
{
    &quot;status&quot;: 0,
    &quot;data&quot;: {
        &quot;campaignId&quot;: 266,
        &quot;status&quot;: 102,//(1-待投放/2-投放中/3-下线_达日预算/4-下线_达账户预算/5-下线-达投放止期/6-已暂停/999-删除)
        &quot;pubTimeType&quot;: 1,
        &quot;id&quot;: 274,
        &quot;bidPrice&quot;: 1200,
        &quot;customerId&quot;: 505631,
        &quot;name&quot;: &quot;test0805&quot;,
        &quot;posId&quot;: 123, // 广告位
        &quot;bidType&quot;: 2,  // 竞价类型 (1-CPM/2-CPC)
        &quot;pubTimeList&quot;: [],
        &quot;startTime&quot;, 121313123
        &quot;endTime&quot;:  1213123 (投日结束时间不限的话null)
    }
}</code></pre></table>
<p><strong>异常提示</strong> </p>
<table width='100%' class='codestyle'><pre><code>{
    &quot;status&quot;: 1,
    &quot;message &quot;: &quot;系统异常， 请联系系统管理员 &quot;
}</code></pre></table>
<p><strong>备注</strong> </p>
<p>前端根据status值判断是否操作成功；成功（0），错误（1）</p>
<ul>
<li>更多返回错误代码请看首页的错误代码描述</li>
</ul></div><h3>7.3.11、单元修改接口</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>单元修改接口</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>http://dsp.zybang.com/dsp-advert/adunits/update</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>POST </li>
</ul>
<p><strong>输入参数示例</strong></p>
<table width='100%' class='codestyle'><pre><code>
{
    &quot;id&quot;: 123123, // 单元ID
    &quot;name&quot;: &quot;test-dtest&quot;,
    &quot;startTime&quot;: 8989, // 单元投放开始时间 
    &quot;endTime&quot;: 1231321 // 单元投放结束时间
    &quot;bidPrice&quot;: &quot;1200&quot;, // 单元出价
    &quot;pubTime&quot;: {1:&quot;0,1,2,3&quot;,2:&quot;1,2,3&quot;},
    &quot;targetList&quot;: [
        {
            &quot;targetId&quot;: &quot;101103&quot;,
            &quot;mutexeType&quot;: 0,
            &quot;values&quot;: [
                {
                    &quot;children&quot;: null,
                    &quot;name&quot;: &quot;VIVO&quot;,
                    &quot;parentId&quot;: 0,
                    &quot;targetValue&quot;: 1011030005
                }
            ]
        },
        {
            &quot;targetId&quot;: &quot;102107&quot;,
            &quot;mutexeType&quot;: 0,
            &quot;values&quot;: [
                {
                    &quot;targetValue&quot;: 102107110000,
                    &quot;parentId&quot;: 0,
                    &quot;name&quot;: &quot;北京&quot;
                },
                {
                    &quot;targetValue&quot;: 102107120000,
                    &quot;parentId&quot;: 0,
                    &quot;name&quot;: &quot;天津&quot;
                },
                {
                    &quot;targetValue&quot;: 102107130000,
                    &quot;parentId&quot;: 0,
                    &quot;name&quot;: &quot;河北&quot;
                }
            ]
        },
        {
            &quot;targetId&quot;: &quot;105112&quot;,
            &quot;mutexeType&quot;: 0,
            &quot;values&quot;: [
                {
                    &quot;children&quot;: null,
                    &quot;name&quot;: &quot;男&quot;,
                    &quot;targetValue&quot;: 1051120001
                }
            ]
        }
    ]
}</code></pre></table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>
{
    &quot;status&quot;: 0,
    &quot;data&quot;: {
        &quot;id&quot;: 274,//单元id
        &quot;name&quot;: &quot;单元名称&quot;
    }
}</code></pre></table>
<p><strong>异常提示</strong> </p>
<table width='100%' class='codestyle'><pre><code>{
    &quot;status&quot;: 1,
    &quot;global &quot;: &quot;系统异常， 请联系系统管理员（ 错误码： A003） &quot;
}</code></pre></table></div><h3>7.3.12、单元新建接口</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>单元新建接口</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>http://dsp.zybang.com/dsp-advert/adunits/save</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>POST </li>
</ul>
<p><strong>输入参数示例</strong></p>
<table width='100%' class='codestyle'><pre><code>
{
    &quot;campaignId&quot;: 266,
    &quot;name&quot;: &quot;1211221&quot;,
    &quot;startTime&quot;: 12312312, // 单元开始投放
    &quot;endTime&quot;: 12313123, // 单元结束投放
    &quot;posId&quot;: 123123, // 广告位
    &quot;bidType&quot;: 1,  // 1-CPM/2-CPC
    &quot;bidPrice&quot;: &quot;1200&quot;,
    &quot;pubTime&quot;: {1:&quot;0,1,2,3&quot;,2:&quot;1,2,3&quot;},
    &quot;targetList&quot;: [
        {
            &quot;targetId&quot;: &quot;102107&quot;,
            &quot;mutexeType&quot;: 0,
            &quot;values&quot;: [
                {
                    &quot;targetValue&quot;: 102107110000,
                    &quot;parentId&quot;: 0,
                    &quot;name&quot;: &quot;北京&quot;
                },
                {
                    &quot;targetValue&quot;: 102107120000,
                    &quot;parentId&quot;: 0,
                    &quot;name&quot;: &quot;天津&quot;
                }
            ]
        },
        {
            &quot;targetId&quot;: &quot;112140&quot;,
            &quot;mutexeType&quot;: 0,
            &quot;values&quot;: [
                {
                    &quot;name&quot;: &quot;udid号码包&quot;,
                    &quot;parentId&quot;: 0,
                    &quot;targetValue&quot;: 11214046
                },
                {
                    &quot;name&quot;: &quot;imei号码包&quot;,
                    &quot;targetValue&quot;: 11214044
                }
            ]
        },
        {
            &quot;targetId&quot;: &quot;112140&quot;,
            &quot;mutexeType&quot;: 1,
            &quot;values&quot;: [
                {
                    &quot;name&quot;: &quot;imei_md5号码包&quot;,
                    &quot;parentId&quot;: 0,
                    &quot;targetValue&quot;: 11214045
                },
                {
                    &quot;name&quot;: &quot;idfa_md5号码包&quot;,
                    &quot;parentId&quot;: 0,
                    &quot;targetValue&quot;: 11214043
                }
            ]
        }
    ]
}</code></pre></table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>
{
    &quot;status&quot;: 0,
    &quot;data&quot;: {
        &quot;id&quot;: 274,//单元id
        &quot;name&quot;: &quot;单元名称&quot;
    }
}</code></pre></table>
<p><strong>异常提示</strong> </p>
<table width='100%' class='codestyle'><pre><code>{
    &quot;status&quot;: 1,
    &quot;global &quot;: &quot;系统异常， 请联系系统管理员（ 错误码： A003） &quot;
}</code></pre></table></div><h3>7.3.13、修改单元出价</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>单元每日预算</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>http://dsp.zybang.com/dsp-advert/adunits/bid_price/update</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>POST</li>
</ul>
<p><strong>输入参数示例</strong></p>
<table width='100%' class='codestyle'><pre><code>{
&quot;id&quot;:1,
&quot;bidPrice&quot;:100000 //单位是分
}</code></pre></table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>
{
  &quot;data&quot;:{},
  &quot;status&quot;:0
}</code></pre></table>
<p><strong>异常提示</strong> </p>
<table width='100%' class='codestyle'><pre><code>{
    &quot;status&quot;: 1,
    &quot;global &quot;: &quot;系统异常， 请联系系统管理员（ 错误码： A003） &quot;
}</code></pre></table></div><h3>7.3.14、删除单元</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>.删除单元</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>http://dsp.zybang.com.cn/dsp-advert/adunits/delete</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>POST </li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">说明</th>
<th>必选</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">Long</td>
<td style="text-align: left;">单元id</td>
<td>是</td>
</tr>
</tbody>
</table>
<p><strong>输入参数示例</strong></p>
<p>无</p>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>{
    &quot;data&quot;: { },
    &quot;status&quot;:0
}</code></pre></table>
<p><strong>异常提示</strong> </p>
<table width='100%' class='codestyle'><pre><code>{
    &quot;status&quot;: 1,
    &quot;global &quot;: &quot;系统异常， 请联系系统管理员（ 错误码： A003） &quot;
}</code></pre></table>
<p><strong>备注</strong> </p>
<p>前端根据status值判断是否操作成功；成功（0），错误（1）</p>
<ul>
<li>更多返回错误代码请看首页的错误代码描述</li>
</ul></div><h3>7.3.15、获取单元定向子节点</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>获取单元定向子节点</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>http://dsp.zybang.com/dsp-advert/targets/options/children</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>POST</li>
</ul>
<p><strong>输入参数示例</strong></p>
<table width='100%' class='codestyle'><pre><code>{
    &quot;targetId&quot;: 1, // targetId
    &quot;adunitId&quot;: 1, // adunitId新建单元时为不填
    &quot;parentId&quot;:0//parentId非必填 表示当前定向上级 }</code></pre></table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>{
    &quot;data&quot;: [
        {
            &quot;targetValue&quot;: 102108001,
            &quot;name&quot;: &quot;河南&quot;,
            &quot;status&quot;: 0
        },
        {
            &quot; targetValue &quot;: 102108002,
            &quot;name&quot;: &quot;河北&quot;,
            &quot;status&quot;: 0
        }
    ],
    &quot;status&quot;: 0
}</code></pre></table>
<p><strong>异常提示</strong> </p>
<table width='100%' class='codestyle'><pre><code>{
    &quot;status&quot;: 1,
    &quot;message &quot;: &quot;系统异常， 请联系系统管理员（ 错误码： A003） &quot;
}</code></pre></table>
<p><strong>备注</strong> </p>
<p>前端根据status值判断是否操作成功；成功（0），错误（1）</p>
<ul>
<li>更多返回错误代码请看首页的错误代码描述</li>
</ul></div><h3>7.3.16、单元定向信息列表</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>查询定向分类信息列表</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>http://dsp.zybang.com/dsp-advert/targets/labels</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>POST</li>
</ul>
<p><strong>输入参数示例</strong></p>
<table width='100%' class='codestyle'><pre><code>{
&quot;campaignId:&quot; 1, // 计划id
&quot;adunitId&quot;:1//adunitId非必填

}</code></pre></table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>
{
   “data”: [
      {
      &quot;required&quot;:0,//是否必填项，0非必填，1是必填项
      &quot;targetId&quot;:1,
      &quot;name&quot;:&quot;性别&quot;,
      &quot;text&quot;: &quot;指定年龄段&quot;,
      &quot;mutexeType&quot;: 1,//0:包含,1:排除
      &quot;type&quot;:&quot;GROUP&quot;,//group、list、lbs、tree
      &quot;values&quot;:null,
      &quot;options&quot;:[{&quot;targetValue&quot;:1,&quot;name&quot;:&quot;男&quot;, &quot;status&quot;: 0, },{&quot;targetValue&quot;:2,&quot;name&quot;:&quot;女&quot;,&quot;status&quot;: 0}]//status:0表示正常0：禁用
      },
      {
      &quot;required&quot;:0,//是否必填项，0非必填，1是必填项
      &quot;targetId&quot;:2,
      &quot;name&quot;:&quot;品牌&quot;,
      &quot;mutexeType&quot;: 1,//0:包含,1:排除
      &quot;type&quot;:&quot;TREE&quot;,//group、list、lbs、tree
      &quot;values&quot;:null,
      &quot;options&quot;:null
     },
     ......//省略掉诸多定向
     {
      &quot;required&quot;:0,//是否必填项，0非必填，1是必填项
      &quot;mutexeType&quot;: 0,
      &quot;name&quot;: &quot;自定义人群&quot;,
      &quot;options&quot;: null,
      &quot;targetId&quot;: 112140,
      &quot;type&quot;: &quot;mctree&quot;,
      &quot;values&quot;: null
        }
],
&quot;status&quot;:0
}</code></pre></table>
<p><strong>异常提示</strong> </p>
<table width='100%' class='codestyle'><pre><code>{
    &quot;status&quot;: 1,
    &quot;global &quot;: &quot;系统异常， 请联系系统管理员（ 错误码： A003） &quot;
}</code></pre></table>
<p><strong>备注</strong> </p>
<p>前端根据status值判断是否操作成功；成功（0），错误（1）</p>
<ul>
<li>更多返回错误代码请看首页的错误代码描述</li>
</ul></div><h3>7.3.17、获取全量分发信息(服务调用)</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>根据投放时间获取全量计划单元信息</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>/dsp-advert/api/fullPublish</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>POST </li>
</ul>
<p><strong>输入参数示例</strong></p>
<table width='100%' class='codestyle'><pre><code>{
&quot;pubDate&quot;:&quot;2016-12-23&quot;
}</code></pre></table>
<p><strong>分发数据结构</strong></p>
<table width='100%' class='codestyle'><pre><code>{

    &quot;data&quot;: [
        {

            &quot;customerId&quot;: 1,

            &quot;adunitList&quot;: [{

                  &quot;bidType&quot;: 1,
                    &quot;bidPrice&quot;: 100,
                    &quot;campaignId&quot;: 1,
                    &quot;endTime&quot;: null,
                    &quot;startTime&quot;: null,
                    &quot;pubTime&quot;:[{
                            &quot;values&quot;: [
                                &quot;1&quot;,
                                &quot;2&quot;,
                                &quot;3&quot;
                            ],
                            &quot;weekday&quot;: 4
                        }],
                    &quot;pubTimeType&quot;: 2,
                    &quot;status&quot;: 2,
                    &quot;targets&quot;: [
                        {
                            &quot;code&quot;: &quot;102&quot;,
                            &quot;mutexeType&quot;: 0,
                            &quot;values&quot;: [
                                &quot;102108002&quot;
                            ]
                        }
                    ],
                    &quot;unitId&quot;: 6,
                }

            }],

            &quot;bidType&quot;: 0,

            &quot;dayBudget&quot;: 100,

            &quot;campaignId&quot;: 3,

            promotionType: 1,  // 推广目的

            &quot;secondaryIndustryCode&quot;: 1,

            &quot;status&quot;: 1
        }
    ],

    &quot;status&quot;: 0
}</code></pre></table>
<p><strong>异常提示</strong> </p>
<table width='100%' class='codestyle'><pre><code>{
    &quot;status&quot;: 1,
    &quot;global &quot;: &quot;系统异常， 请联系系统管理员（ 错误码： A003） &quot;
}</code></pre></table>
<p><strong>备注</strong> </p>
<p>前端根据status值判断是否操作成功；成功（0），错误（1）</p>
<ul>
<li>更多返回错误代码请看首页的错误代码描述</li>
</ul></div><h3>7.3.18、增量分发计划和单元(服务调用)</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>根据单元ID获取增量分发的计划和单元数据</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>/dsp-advert/api/dispatcher</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>POST</li>
</ul>
<p><strong>参数：</strong>
无</p>
<p><strong>输入参数示例</strong></p>
<table width='100%' class='codestyle'><pre><code>{
&quot;adunitIds&quot;: [1, 2, 3]
}</code></pre></table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>{“data”:{

  “id”:1,

  “promotionType”:1,

  “dayBudget”: 12323,

  “status”:0,

  “adunit”:{

         “id”:2,

        “bidType”:1

         “bidPrice”:1000,

         “pub_time”:””,

        “target”:[{

        10000100001:[1,2],

       ”mutexeType”:0

       }] ,

       “status”:1}

  }},

“status”:0

}</code></pre></table>
<p><strong>异常提示</strong> </p>
<table width='100%' class='codestyle'><pre><code>{
    &quot;status&quot;: 1,
    &quot;global &quot;: &quot;系统异常， 请联系系统管理员（ 错误码： A003） &quot;
}</code></pre></table>
<p><strong>备注</strong> </p>
<p>前端根据status值判断是否操作成功；成功（0），错误（1）</p>
<ul>
<li>更多返回错误代码请看首页的错误代码描述</li>
</ul></div><h3>7.3.19、批量修改单元状态</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>.批量修改单元状态</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>http://dsp.zybang.com/dsp-advert/adunits/status/update</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>GET </li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">说明</th>
<th>必选</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">List</td>
<td style="text-align: left;">单元id数组</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">status</td>
<td style="text-align: left;">int</td>
<td style="text-align: left;">状态 4:启动 ，5：暂停</td>
<td>是</td>
</tr>
</tbody>
</table>
<p><strong>输入参数示例</strong></p>
<table width='100%' class='codestyle'><pre><code>
{
 “id”: [1000,1001], //单元ID
 “status”:1  //1:启动 ，2：暂停
}</code></pre></table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>
{
“data”:{},
“status”:0,
}</code></pre></table>
<p><strong>异常提示</strong> </p>
<table width='100%' class='codestyle'><pre><code>{
    &quot;status&quot;: 1,
    &quot;global &quot;: &quot;系统异常， 请联系系统管理员（ 错误码： A003） &quot;
}</code></pre></table>
<p><strong>备注</strong> </p>
<p>前端根据status值判断是否操作成功；成功（0），错误（1）</p></div></div><h2>7.4、数据服务</h2><div style="margin-left:20px;"><h3>7.4.1、首页概览接口</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>首页概况数据</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>http://dsp.zybang.com/dsp-report/index</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>POST </li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">说明</th>
<th>必选</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">startTime</td>
<td style="text-align: left;">datetime</td>
<td style="text-align: left;">开始时间</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">endTime</td>
<td style="text-align: left;">datetime</td>
<td style="text-align: left;">结束时间</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">dimLeft</td>
<td style="text-align: left;">int</td>
<td style="text-align: left;">左侧维度(1-曝光量/2-点击量/3-点击率/4-消耗)</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">dimRight</td>
<td style="text-align: left;">int</td>
<td style="text-align: left;">右侧维度(1-曝光量/2-点击量/3-点击率/4-消耗)</td>
<td>是</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>{
    &quot;status &quot;: 0,
    &quot;data &quot;: {
        exposeNum: 10000, //曝光量
        clickNum: 1000, // 点击量
        clickRate: 100,  // 点击率
        clickPrice: 10000, // 点击均价
        cpmPrice: 200000, // 千次展示均价
        consumed: 1000, // 时间段消耗(单位分)
        dataY1：[1100, 1382, 1325, 1600, 1600],
      dataY2：[1100, 1382, 1325, 1600, 1600]
    }
}</code></pre></table>
<p><strong>输出参数</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th>名称</th>
<th>类型</th>
<th>含义</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>dataY1</td>
<td>List</td>
<td>Y轴指标(从左向右)</td>
</tr>
<tr>
<td>dataY2</td>
<td>List</td>
<td>Y轴指标(从右向左)</td>
</tr>
</tbody>
</table>
<ul>
<li>更多返回错误代码请看首页的错误代码描述</li>
</ul></div><h3>7.4.2、数据列表接口</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>数据列表&下载接口</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>http://dsp.zybang.com/dsp-report/list</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>POST</li>
</ul>
<p><strong>请求示例：</strong> </p>
<table width='100%' class='codestyle'><pre><code>{
    &quot;bizScope&quot;:1,  // 1-代理商/2-客户
    &quot;bizList&quot;:[1,2,3], // 范围
    &quot;timeType&quot;: 1,        // 时间粒度
    &quot;bizType&quot;:1,  // 1-计划/2-单元/3-创意
    &quot;startTime&quot;: 12313123123123,
    &quot;endTime&quot;: 123121231312312312,
    &quot;pageSize&quot;: 50,
    &quot;pageNum&quot;: 2
}</code></pre></table>
<p><strong>参数说明:</strong></p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">说明</th>
<th>必选</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">bizScope</td>
<td style="text-align: left;">int</td>
<td style="text-align: left;">数据范围类型</td>
<td>是</td>
<td>1-代理商/2-客户</td>
</tr>
<tr>
<td style="text-align: left;">bizList</td>
<td style="text-align: left;">List</td>
<td style="text-align: left;">数据范围</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">timeType</td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">时间维度(1-ALL/2-分日)</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">bizType</td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">数据维度(1-计划/2-单元/3-创意)</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">startTime</td>
<td style="text-align: left;">String</td>
<td style="text-align: left;">查询开始时间</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">endTime</td>
<td style="text-align: left;">String</td>
<td style="text-align: left;">查询结束时间</td>
<td>是</td>
<td>结束时间要小于等于当前时间的前一天</td>
</tr>
<tr>
<td style="text-align: left;">pageSize</td>
<td style="text-align: left;">int</td>
<td style="text-align: left;">每页多少条</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">pageNum</td>
<td style="text-align: left;">int</td>
<td style="text-align: left;">当前第几页</td>
<td>是</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>{
“data”:{
“list”:[{
&quot;timestamp&quot;: &quot;2017-01-03&quot;, // 统计时间
&quot;agentName&quot;: &quot;代理公司&quot;,
&quot;customerName&quot;:&quot;客户&quot;,
&quot;campaignName&quot;: &quot;计划123&quot;, // 广告计划
&quot;adunitName&quot;: &quot;单元456&quot;, // 广告单元
&quot;creativeType&quot;: 1,            // 1-图文/2-图片/3-文字链
&quot;creativeValue&quot;: &quot;123123&quot; // 广告创意
&quot;expose&quot;:80000,//曝光量
&quot;click&quot;:7999,//点击量
&quot;clickRate&quot;:9099,//点击率
&quot;clickPrice&quot;:1500,//点击均价；  单位是分
&quot;cpmPrice&quot;:1500,//千次展示均价；  单位是分
&quot;consumed&quot;: 12313, // 消耗
}] ,
&quot;total&quot;:51           //总记录数
&quot;pages&quot;:2          //总页数
 },
“status”:0
}</code></pre></table></div><h3>7.4.3、数据查询接口(服务调用)</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>数据查询接口(服务调用)</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>/dsp-report/api/stat</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>POST</li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">说明</th>
<th>必选</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">type</td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">统计类型</td>
<td>是</td>
<td>1-代理商/2-客户/3-计划/4-单元/5-创意</td>
</tr>
<tr>
<td style="text-align: left;">idList</td>
<td style="text-align: left;">List</td>
<td style="text-align: left;">数据范围</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">startTime</td>
<td style="text-align: left;">String</td>
<td style="text-align: left;">查询开始时间</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">endTime</td>
<td style="text-align: left;">String</td>
<td style="text-align: left;">查询结束时间</td>
<td>是</td>
<td>结束时间要小于等于当前时间的前一天</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>
{
  &quot;data&quot;:[{
  &quot;exposeNum&quot;:80000,//曝光量
&quot;clickNum&quot;:7999,//点击量
&quot;clickRate&quot;:9099,//点击率
&quot;clickPrice&quot;:1500,//点击均价；  单位是分 消费/点击量
&quot;cpmPrice&quot;:1500,//千次展示均价；  单位是分 消费/点击量
&quot;consumed&quot;: 12313, // 消耗(单位分)
  }],
  &quot;status&quot;:0
}</code></pre></table></div><h3>7.4.4、数据下载接口</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>下载接口</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>http://dsp.zybang.com/dsp-report/download</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>POST</li>
</ul>
<p><strong>请求示例：</strong> </p>
<table width='100%' class='codestyle'><pre><code>{
    &quot;bizScope&quot;:1,  // 1-代理商/2-客户
    &quot;bizList&quot;:[1,2,3], // 范围
    &quot;timeType&quot;: 1,        // 时间粒度
    &quot;bizType&quot;:1,  // 1-计划/2-单元/3-创意
    &quot;startTime&quot;: 12313123123123,
    &quot;endTime&quot;: 123121231312312312
}</code></pre></table>
<p><strong>参数说明:</strong></p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">说明</th>
<th>必选</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">bizScope</td>
<td style="text-align: left;">int</td>
<td style="text-align: left;">数据范围类型</td>
<td>是</td>
<td>1-代理商/2-客户</td>
</tr>
<tr>
<td style="text-align: left;">bizList</td>
<td style="text-align: left;">List</td>
<td style="text-align: left;">数据范围</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">timeType</td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">时间粒度(1-汇总/2-分日)</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">bizType</td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">数据维度(1-计划/2-单元/3-创意)</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">startTime</td>
<td style="text-align: left;">String</td>
<td style="text-align: left;">查询开始时间</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">endTime</td>
<td style="text-align: left;">String</td>
<td style="text-align: left;">查询结束时间</td>
<td>是</td>
<td>结束时间要小于等于当前时间的前一天</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>{
“data”:[{
&quot;timestamp&quot;: &quot;2017-01-03&quot;, // 统计时间
&quot;agentName&quot;: &quot;代理公司&quot;,
&quot;customerName&quot;:&quot;客户&quot;,
&quot;campaignName&quot;: &quot;计划123&quot;, // 广告计划
&quot;adunitName&quot;: &quot;单元456&quot;, // 广告单元
&quot;creativeType&quot;: 1,            // 1-图文/2-图片/3-文字链
&quot;creativeValue&quot;: &quot;123123&quot; // 广告创意
&quot;expose&quot;:80000,//曝光量
&quot;click&quot;:7999,//点击量
&quot;clickRate&quot;:9099,//点击率
&quot;clickPrice&quot;:1500,//点击均价；  单位是分
&quot;cpmPrice&quot;:1500,//千次展示均价；  单位是分
&quot;consumed&quot;: 12313, // 消耗
}] ,
“status”:0
}</code></pre></table></div></div><h2>7.5、分发服务</h2><div style="margin-left:20px;"><h3>7.5.1、全量分发逻辑</h3><div style="margin-left:30px;"><p><strong>当日全量分发流程图</strong>
![当日全量分发](<a href="https://www.showdoc.cc/home/common/visitfile/sign/fd6a463e2c573e6407c5592fe3e895f5?showdoc=.jpg">https://www.showdoc.cc/home/common/visitfile/sign/fd6a463e2c573e6407c5592fe3e895f5?showdoc=.jpg</a> "当日全量分发")</p>
<hr />
<p><strong>明日全量分发流程图</strong>
![明日全量分发流程图](<a href="https://www.showdoc.cc/home/common/visitfile/sign/0579831f0ad94efdc1ce61504f249071?showdoc=.jpg">https://www.showdoc.cc/home/common/visitfile/sign/0579831f0ad94efdc1ce61504f249071?showdoc=.jpg</a> "明日全量分发流程图")</p></div><h3>7.5.2、增量分发逻辑</h3><div style="margin-left:30px;"><p><strong>增量分发概况</strong>
![1](<a href="https://www.showdoc.cc/home/common/visitfile/sign/da979ffe34b369f160fb606bcda9c7ca?showdoc=.jpg">https://www.showdoc.cc/home/common/visitfile/sign/da979ffe34b369f160fb606bcda9c7ca?showdoc=.jpg</a> "1")</p>
<p>1)      上图为数据分发模块的功能结构图，以下分别介绍各个模块的作用：</p>
<p>2)      计划管理模块：负责分发计划、单元(全量\增量)数据；</p>
<p>3)      创意管理模块：负责分发创意(全量\增量)数据；</p>
<p>4)      Kafka：消息中间件,用于存储待分发的增量数据；</p>
<p>5)      数据分发模块：负责组装、发送(全量\增量)数据给引擎;</p>
<p>6)      计划管理模块API：数据分发模块需根据单元id从该API接口获取计划+单元数据，用于创意增量分发；</p>
<p>7)      创意管理模块API：数据分发模块需根据单元id获取创意信息，用于计划、单元增量分发；</p>
<p>(全量分发：计划、创意API接口负责提供待分发的全量计划、单元、创意数据)</p>
<hr />
<p><strong>计划增量分发流程图</strong>
![1](<a href="https://www.showdoc.cc/home/common/visitfile/sign/dfef3b3291e6dff00e5bcc999f450401?showdoc=.jpg">https://www.showdoc.cc/home/common/visitfile/sign/dfef3b3291e6dff00e5bcc999f450401?showdoc=.jpg</a> "1")</p>
<p>单元新增：向引擎分发单元数据；
单元修改：向引擎分发单元数据，但转换为单元新增时分发单元和创意数据，转换为单元删除时只发送单元关键id字段。
单元重启、暂停、删除：向引擎分发单元关键id以及操作类型。
图中判断单元是否符合分发条件：</p>
<ol>
<li>单元新增：所属计划已分发且星期定向包括当日；</li>
<li>单元修改：单元增量已分发过；</li>
<li>单元重启、暂停、删除：单元增量已分发过。
其中，单元修改转新增或删除后如图所示，无须进一步判断分发条件。</li>
</ol>
<hr />
<p><strong>创意增量分发流程图</strong>
![2](<a href="https://www.showdoc.cc/home/common/visitfile/sign/a12c15d9b5488df5e8f9898eacadf83d?showdoc=.jpg">https://www.showdoc.cc/home/common/visitfile/sign/a12c15d9b5488df5e8f9898eacadf83d?showdoc=.jpg</a> "2")</p>
<p>说明：创意新建、修改流程中业务端向引擎分发创意本身相关数据。启动、暂停、删除过程只发送该创意的id以及状态标识(启动、暂停、删除)。
判断创意分发条件：该创意所属的单元分发过。</p>
<hr />
<p><strong>kafka增量数据结构</strong>
计划/创意管理模块与数据分发模块使用Kafka进行增量数据分发时，交互数据格式如下：</p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th>字段</th>
<th>描述</th>
<th>是否必选</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>计划或单元或创意id</td>
<td>是</td>
</tr>
<tr>
<td>businessType</td>
<td>业务类型(1-计划，2-单元，3-创意)</td>
<td>是</td>
</tr>
<tr>
<td>operationType</td>
<td>操作类型(1-新增  2-修改 3-删除 4-开启 5-暂停)</td>
<td>是</td>
</tr>
<tr>
<td>content</td>
<td>数据内容(计划、单元、创意)</td>
<td>是</td>
</tr>
</tbody>
</table>
<p>转换新增：用于表示是否由计划修改à计划新增状态，如果是则数据分发模块对引擎分发的数据包括计划+单元+创意。</p></div><h3>7.5.3、引擎分发protobuf</h3><div style="margin-left:30px;"><table width='100%' class='codestyle'><pre><code>message DeliveryCampaign{
    //投放日期 格式20161025
    optional string deliveryDate = 1;

    //增量 1,2,3,4,5
    //增量 新增 1  campaign 传 campaign或campaign、unit、creative; unit 只传 unit ; creative 只传 creative
    //增量 更新 2  campaign 传 campaign; unit 传 unit; creative 传 creative
    //增量 删除 3  campaign 传 campaignId,  unit 传 unit 只填充unitId,  creative 传 creative 填充creativeId
    //增量 开启 4  campaign 传 campaignId,  unit 传 unit 只填充unitId,  creative 传 creative 填充creativeId
    //增量 暂停 5  campaign 传 campaignId,  unit 传 unit 只填充unitId,  creative 传 creative 填充creativeId
    required uint32 operationType = 2;

    //操作级别(1:campaign; 2:unit; 3:creative创意; 4:customer 客户; 5:行业信息)
    required uint32 operationLevel = 3;
    optional Campaign campaign = 4;
    repeated Unit units = 5;
    repeated Creative creatives = 6;
    optional Customer customer = 7;
    repeated SecondaryIndustryInfo secondaryIndustryInfo = 8;

    //客户操作类型只对应：开启、暂停、更新
    message Customer{
        //客户id
        required uint64 customerId = 1;
        //预算
        optional uint64 budget = 2;
        // 状态
        optional uint64 status = 3;
    }
    //计划实体
    message Campaign{
        //代理商id(当直客时该字段无值)
        optional uint64 agentId = 1;
        //计划id
        required uint64 campaignId = 2;
        //日预算
        optional int64 dayBudget = 3;
        //全量或增量都发送status
        optional uint32 status = 4;
        //二级行业code 字符串
        optional string secondaryIndustryCode= 5;
        //客户id
        required uint64 customerId = 6;
        //广告排序权重
        optional double bidWeight = 7;
        //adx排序优先级（0-商广；1-内推；2-内推特批）
        optional uint32 adx_special_type = 8;
    }
    //定向
    message Target {
        required string code = 1;
        required string mutexType = 2;
        repeated string value = 3;
    }
    //单元实体
    message Unit{
        //计划id
        required uint64 campaignId = 1;
        //单元id
        required uint64 unitId = 2;
        //客户id
        required uint64 customerId = 3;
        //代理商id
        optional uint64 agentId = 4;
        //计费方式 1-cpc 2-cpm
        optional uint32 bidType = 5;
        //最高竞价 以分为单位
        optional uint64 bidPrice = 6;
        //投放时段（10:00-18:00）
        repeated string pubTime = 7;
        //定向(细化动态列表具体格式)
        repeated Target targets = 8;
        //全量或增量都发送status
        optional uint32 status = 9;
    }

    //创意实体
    message Creative {
        //id
        required uint64 id = 1;
        //代理商id
        required uint64 agentId = 2;
        //客户id
        required uint64 customerId = 3;
        //计划id
        required uint64 campaignId  = 4;
        //单元id
        required uint64 unitId = 5;
        //adxid
        optional uint64 adxId = 6;
        //创意id
        optional uint64 creativeId = 7;
        //adx创意id
        optional uint64 adxCreativeId = 8;
        //adx模板Id
        optional uint64 adxTemplateId = 9;
        //创意类型：1图片，2图文，3文字链，4视频
        optional uint32 creativeType  = 10;
        //创意宽度
        optional uint32 creativeWidth = 11;
        //创意高度
        optional uint32 creativeHeight = 12;
        //创意内容
        optional string content = 13;
        //点击链接
        optional string clickUrl= 14;
        //曝光链接
        repeated string monitorUrl = 15;
        //全量或增量都发送status
        optional uint32 status = 16;
        //去重码（逗号分隔）
        optional string unique_code = 17;
    }   

    //行业信息
    message SecondaryIndustryInfo{
        //二级行业code
        required string secondaryIndustryCode = 1;
        //行业权重
        required double secondaryIndustryWeight = 2;
        //CPC行业底价
        required uint32 cpcAppFloorPrice = 3;
        required uint32 cpcMFloorPrice = 4;
        required uint32 cpcPCFloorPrice = 5;
        //CPM行业底价
        required uint32 cpmAppFloorPrice = 6;
        required uint32 cpmMFloorPrice = 7;
        required uint32 cpmPCFloorPrice = 8;
    }
}</code></pre></table></div><h3>7.5.4、引擎count同步</h3><div style="margin-left:30px;"><table width='100%' class='codestyle'><pre><code>message DspOffline { 
  // 操作级别(1:campaign)
  required uint32 operationLevel  = 1;
  // 状态类型：投放中、日预算达到下线、客户预算不足下线
   required uint32 status  = 2;
   //ID
   required uint64 value = 3;
}</code></pre></table></div></div></div><h1>8、数据字典</h1><div style="margin-left:20px;"><h2>8.1、用户管理-数据库设计</h2><div style="margin-left:20px;"><h3>8.1.1、用户表</h3><div style="margin-left:30px;"><ul>
<li>用户表(user)</li>
</ul>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">字段</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">空</th>
<th style="text-align: left;">默认</th>
<th style="text-align: left;">注释</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">int(11)</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">主键ID，系统自动生成</td>
</tr>
<tr>
<td style="text-align: left;">name</td>
<td style="text-align: left;">varchar(30)</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">登录名,登录时使用</td>
</tr>
<tr>
<td style="text-align: left;">password</td>
<td style="text-align: left;">varchar(50)</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">加密密码，数据库不存储明文</td>
</tr>
<tr>
<td style="text-align: left;">type</td>
<td style="text-align: left;">tinyint(2)</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">1-员工账号 2-客户账号</td>
</tr>
<tr>
<td style="text-align: left;">employee_work_id</td>
<td style="text-align: left;">varchar(50)</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">内部员工工号</td>
</tr>
<tr>
<td style="text-align: left;">role_ids</td>
<td style="text-align: left;">varchar(255)</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">角色Id拼接字符串,格式：100,101,108</td>
</tr>
<tr>
<td style="text-align: left;">role_names</td>
<td style="text-align: left;">varchar(255)</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">角色名称拼接字符串</td>
</tr>
<tr>
<td style="text-align: left;">scope_type</td>
<td style="text-align: left;">tinyint(2)</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">管辖类型 1-部门 2-个人</td>
</tr>
<tr>
<td style="text-align: left;">scope_values</td>
<td style="text-align: left;">mediumtext</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">所管辖的部门/个人的id字符串，多个用逗号隔开</td>
</tr>
<tr>
<td style="text-align: left;">customer_id</td>
<td style="text-align: left;">bigint</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">关联客户ID</td>
</tr>
<tr>
<td style="text-align: left;">status</td>
<td style="text-align: left;">tinyint(2)</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">状态：1-开启 0-关闭 999-删除 默认为开启</td>
</tr>
<tr>
<td style="text-align: left;">last_login_time</td>
<td style="text-align: left;">datetime</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">最后登录时间</td>
</tr>
<tr>
<td style="text-align: left;">last_login_ip</td>
<td style="text-align: left;">varchar(100)</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">最后登录IP</td>
</tr>
<tr>
<td style="text-align: left;">phone</td>
<td style="text-align: left;">varchar(50)</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">手机号</td>
</tr>
<tr>
<td style="text-align: left;">email</td>
<td style="text-align: left;">varchar(50)</td>
<td style="text-align: left;">是</td>
</tr>
<tr>
<td style="text-align: left;">operator_id</td>
<td style="text-align: left;">int(11)</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">操作人</td>
</tr>
<tr>
<td style="text-align: left;">operator_name</td>
<td style="text-align: left;">varchar(50)</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">admin</td>
</tr>
<tr>
<td style="text-align: left;">create_time</td>
<td style="text-align: left;">datetime</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">创建时间</td>
</tr>
<tr>
<td style="text-align: left;">modify_time</td>
<td style="text-align: left;">timestamp</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">修改时间</td>
</tr>
</tbody>
</table>
<ul>
<li>备注：无</li>
</ul></div><h3>8.1.2、预算详情表</h3><div style="margin-left:30px;"><ul>
<li>客户预算表 customer_budget_detail</li>
</ul>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">字段</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">空</th>
<th>默认</th>
<th>注释</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">bigint(20)</td>
<td style="text-align: left;">否</td>
<td></td>
<td>主键ID</td>
</tr>
<tr>
<td style="text-align: left;">customer_id</td>
<td style="text-align: left;">bigint(20)</td>
<td style="text-align: left;">否</td>
<td></td>
<td>客户ID</td>
</tr>
<tr>
<td style="text-align: left;">budget</td>
<td style="text-align: left;">bigint(20)</td>
<td style="text-align: left;">否</td>
<td></td>
<td>金额，精确到分</td>
</tr>
<tr>
<td style="text-align: left;">operator_id</td>
<td style="text-align: left;">int(11)</td>
<td style="text-align: left;">否</td>
<td></td>
<td>操作人</td>
</tr>
<tr>
<td style="text-align: left;">operator_name</td>
<td style="text-align: left;">varchar(50)</td>
<td style="text-align: left;">否</td>
<td></td>
<td>操作人名称</td>
</tr>
<tr>
<td style="text-align: left;">create_time</td>
<td style="text-align: left;">datetime</td>
<td style="text-align: left;">否</td>
<td></td>
<td>创建时间</td>
</tr>
<tr>
<td style="text-align: left;">modify_time</td>
<td style="text-align: left;">timestamp</td>
<td style="text-align: left;">否</td>
<td></td>
<td>最后修改时间</td>
</tr>
</tbody>
</table>
<ul>
<li>备注：无</li>
</ul></div><h3>8.1.3、客户表</h3><div style="margin-left:30px;"><ul>
<li>客户表 customer</li>
</ul>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">字段</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">空</th>
<th>默认</th>
<th>注释</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">bigint(11)</td>
<td style="text-align: left;">否</td>
<td></td>
<td>主键，系统自增生成</td>
</tr>
<tr>
<td style="text-align: left;">name</td>
<td style="text-align: left;">varchar(50)</td>
<td style="text-align: left;">否</td>
<td></td>
<td>客户名称(广告主公司名称)</td>
</tr>
<tr>
<td style="text-align: left;">agent_id</td>
<td style="text-align: left;">bigint(11)</td>
<td style="text-align: left;">否</td>
<td>NULL</td>
<td>所属代理商</td>
</tr>
<tr>
<td style="text-align: left;">agent_name</td>
<td style="text-align: left;">varchar(50)</td>
<td style="text-align: left;">否</td>
<td>NULL</td>
<td>代理商名称</td>
</tr>
<tr>
<td style="text-align: left;">register_time</td>
<td style="text-align: left;">varchar(50)</td>
<td style="text-align: left;">否</td>
<td>注册时间</td>
</tr>
<tr>
<td style="text-align: left;">company_name</td>
<td style="text-align: left;">varchar(50)</td>
<td style="text-align: left;">否</td>
<td>公司名称</td>
</tr>
<tr>
<td style="text-align: left;">register_address</td>
<td style="text-align: left;">varchar(200)</td>
<td style="text-align: left;">否</td>
<td>注册地址</td>
</tr>
<tr>
<td style="text-align: left;">register_url</td>
<td style="text-align: left;">varchar(200)</td>
<td style="text-align: left;">否</td>
<td>注册网址</td>
</tr>
<tr>
<td style="text-align: left;">contact</td>
<td style="text-align: left;">varchar(50)</td>
<td style="text-align: left;">否</td>
<td>联系人</td>
</tr>
<tr>
<td style="text-align: left;">contact_email</td>
<td style="text-align: left;">varchar(50)</td>
<td style="text-align: left;">否</td>
<td>联系人邮箱</td>
</tr>
<tr>
<td style="text-align: left;">contact_tel</td>
<td style="text-align: left;">varchar(20)</td>
<td style="text-align: left;">是</td>
<td>联系人电话</td>
</tr>
<tr>
<td style="text-align: left;">contact_phone</td>
<td style="text-align: left;">varchar(20)</td>
<td style="text-align: left;">否</td>
<td>联系人手机号</td>
</tr>
<tr>
<td style="text-align: left;">corporation_image_url</td>
<td style="text-align: left;">varchar(200)</td>
<td style="text-align: left;">否</td>
<td>企业营业执照</td>
</tr>
<tr>
<td style="text-align: left;">type</td>
<td style="text-align: left;">tinyint(2)</td>
<td style="text-align: left;">否</td>
<td></td>
<td>1-代理商/2-代理子客户/3-直客</td>
</tr>
<tr>
<td style="text-align: left;">primary_industry</td>
<td style="text-align: left;">varchar(50)</td>
<td style="text-align: left;">否</td>
<td></td>
<td>一级行业id</td>
</tr>
<tr>
<td style="text-align: left;">secondary_industry</td>
<td style="text-align: left;">varchar(50)</td>
<td style="text-align: left;">否</td>
<td></td>
<td>二级行业id</td>
</tr>
<tr>
<td style="text-align: left;">status</td>
<td style="text-align: left;">int(11)</td>
<td style="text-align: left;">否</td>
<td>1</td>
<td>1-开启 2-关闭 3-待审 4-拒审</td>
</tr>
<tr>
<td style="text-align: left;">reason</td>
<td style="text-align: left;">varchar(100)</td>
<td style="text-align: left;">否</td>
<td></td>
<td>拒审原因</td>
</tr>
<tr>
<td style="text-align: left;">dept_code</td>
<td style="text-align: left;">int</td>
<td style="text-align: left;">是</td>
<td></td>
<td>所属部门</td>
</tr>
<tr>
<td style="text-align: left;">sales_workid</td>
<td style="text-align: left;">int</td>
<td style="text-align: left;">是</td>
<td></td>
<td>所属销售</td>
</tr>
<tr>
<td style="text-align: left;">budget</td>
<td style="text-align: left;">bigint</td>
<td style="text-align: left;">否</td>
<td>现金账户金额</td>
</tr>
<tr>
<td style="text-align: left;">assign_budget</td>
<td style="text-align: left;">bigint</td>
<td style="text-align: left;">否</td>
<td>可分配现金金额(代理商)</td>
</tr>
<tr>
<td style="text-align: left;">operator_id</td>
<td style="text-align: left;">int</td>
<td style="text-align: left;">否</td>
<td>0</td>
<td>操作人id</td>
</tr>
<tr>
<td style="text-align: left;">operator_name</td>
<td style="text-align: left;">varchar(50)</td>
<td style="text-align: left;">否</td>
<td></td>
<td>操作人名称</td>
</tr>
<tr>
<td style="text-align: left;">modify_time</td>
<td style="text-align: left;">timestamp</td>
<td style="text-align: left;">否</td>
<td></td>
<td>修改时间</td>
</tr>
<tr>
<td style="text-align: left;">create_time</td>
<td style="text-align: left;">datetime</td>
<td style="text-align: left;">否</td>
<td></td>
<td>创建时间</td>
</tr>
</tbody>
</table>
<ul>
<li>备注：无</li>
</ul></div><h3>8.1.4、部门表</h3><div style="margin-left:30px;"><ul>
<li>部门表-department</li>
</ul>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">字段</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">空</th>
<th>默认</th>
<th>注释</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">bigint</td>
<td style="text-align: left;">否</td>
</tr>
<tr>
<td style="text-align: left;">dept_name</td>
<td style="text-align: left;">varchar(50)</td>
<td style="text-align: left;">是</td>
</tr>
<tr>
<td style="text-align: left;">last_modify_time</td>
<td style="text-align: left;">varchar(255)</td>
<td style="text-align: left;">是</td>
</tr>
<tr>
<td style="text-align: left;">parent_dept_id</td>
<td style="text-align: left;">bigint</td>
<td style="text-align: left;">是</td>
</tr>
<tr>
<td style="text-align: left;">parent_depts</td>
<td style="text-align: left;">varchar(150)</td>
<td style="text-align: left;">是</td>
<td>父级部门路径，多个用"/"分隔开以"/"结尾</td>
</tr>
<tr>
<td style="text-align: left;">briefdept_path</td>
<td style="text-align: left;">varchar(150)</td>
<td style="text-align: left;">是</td>
<td>简洁的部门路径，包含当前部门名</td>
</tr>
<tr>
<td style="text-align: left;">allchild_id</td>
<td style="text-align: left;">varchar(5000)</td>
<td style="text-align: left;">是</td>
</tr>
<tr>
<td style="text-align: left;">allparent_dept_id</td>
<td style="text-align: left;">varchar(500)</td>
<td style="text-align: left;">是</td>
</tr>
<tr>
<td style="text-align: left;">is_top_dept</td>
<td style="text-align: left;">tinyint(1)</td>
<td style="text-align: left;">是</td>
<td>0</td>
</tr>
</tbody>
</table>
<ul>
<li>备注：无</li>
</ul></div><h3>8.1.5、员工表</h3><div style="margin-left:30px;"><ul>
<li>雇员表-employee</li>
</ul>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">字段</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">空</th>
<th>默认</th>
<th>注释</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">int(11) unsigned</td>
<td style="text-align: left;">否</td>
<td></td>
</tr>
<tr>
<td style="text-align: left;">emp_name</td>
<td style="text-align: left;">varchar(50)</td>
<td style="text-align: left;">否</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">emp_work_id</td>
<td style="text-align: left;">varchar(50)</td>
<td style="text-align: left;">否</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">emp_city</td>
<td style="text-align: left;">varchar(255)</td>
<td style="text-align: left;">是</td>
</tr>
<tr>
<td style="text-align: left;">emp_dptcd</td>
<td style="text-align: left;">varchar(255)</td>
<td style="text-align: left;">是</td>
</tr>
<tr>
<td style="text-align: left;">emp_partpstcd</td>
<td style="text-align: left;">varchar(255)</td>
<td style="text-align: left;">是</td>
</tr>
<tr>
<td style="text-align: left;">emp_email</td>
<td style="text-align: left;">varchar(255)</td>
<td style="text-align: left;">是</td>
</tr>
<tr>
<td style="text-align: left;">emp_job</td>
<td style="text-align: left;">varchar(255)</td>
<td style="text-align: left;">是</td>
</tr>
<tr>
<td style="text-align: left;">emp_phone_number</td>
<td style="text-align: left;">varchar(255)</td>
<td style="text-align: left;">是</td>
</tr>
<tr>
<td style="text-align: left;">emp_pstcd</td>
<td style="text-align: left;">varchar(255)</td>
<td style="text-align: left;">是</td>
</tr>
<tr>
<td style="text-align: left;">emp_sex</td>
<td style="text-align: left;">varchar(255)</td>
<td style="text-align: left;">是</td>
</tr>
<tr>
<td style="text-align: left;">emp_tel_number</td>
<td style="text-align: left;">varchar(255)</td>
<td style="text-align: left;">是</td>
</tr>
<tr>
<td style="text-align: left;">emp_wstid</td>
<td style="text-align: left;">varchar(255)</td>
<td style="text-align: left;">是</td>
</tr>
<tr>
<td style="text-align: left;">last_modify_time</td>
<td style="text-align: left;">varchar(255)</td>
<td style="text-align: left;">是</td>
</tr>
<tr>
<td style="text-align: left;">emp_status</td>
<td style="text-align: left;">varchar(255)</td>
<td style="text-align: left;">是</td>
</tr>
</tbody>
</table>
<ul>
<li>备注：无</li>
</ul></div><h3>8.1.6、行业表</h3><div style="margin-left:30px;"><ul>
<li>行业表-industry，行业信息表</li>
</ul>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">字段</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">空</th>
<th>默认</th>
<th>注释</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">int(11)</td>
<td style="text-align: left;">否</td>
<td></td>
<td>主键id</td>
</tr>
<tr>
<td style="text-align: left;">industry_name</td>
<td style="text-align: left;">varchar(50)</td>
<td style="text-align: left;">否</td>
<td></td>
<td>行业名称</td>
</tr>
<tr>
<td style="text-align: left;">industry_code</td>
<td style="text-align: left;">varchar(50)</td>
<td style="text-align: left;">否</td>
<td></td>
<td>行业编码</td>
</tr>
<tr>
<td style="text-align: left;">parent_id</td>
<td style="text-align: left;">int(11)</td>
<td style="text-align: left;">否</td>
<td>父级节点，一级行业值为(0)，二级行业该字段值为一级行业的主键id</td>
</tr>
<tr>
<td style="text-align: left;">status</td>
<td style="text-align: left;">int(11)</td>
<td style="text-align: left;">否</td>
<td>状态：1-开启，0-停用，默认开启</td>
</tr>
<tr>
<td style="text-align: left;">create_time</td>
<td style="text-align: left;">datetime</td>
<td style="text-align: left;">否</td>
<td>创建时间</td>
</tr>
<tr>
<td style="text-align: left;">modify_time</td>
<td style="text-align: left;">timestamp</td>
<td style="text-align: left;">否</td>
<td></td>
<td>修改时间</td>
</tr>
<tr>
<td style="text-align: left;">operator_id</td>
<td style="text-align: left;">int(11)</td>
<td style="text-align: left;">否</td>
</tr>
<tr>
<td style="text-align: left;">operator_name</td>
<td style="text-align: left;">varchar(50)</td>
<td style="text-align: left;">否</td>
<td>admin</td>
</tr>
<tr>
<td style="text-align: left;">cpm_m_floor_price</td>
<td style="text-align: left;">bigint(20)</td>
<td style="text-align: left;">否</td>
<td>0</td>
<td>cpm m端行业底价（单位是分）</td>
</tr>
<tr>
<td style="text-align: left;">industry_weight</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">否</td>
<td>1</td>
<td>行业权重</td>
<td>,</td>
</tr>
<tr>
<td style="text-align: left;">cpm_pc_floor_price</td>
<td style="text-align: left;">bigint(20)</td>
<td style="text-align: left;">否</td>
<td>0</td>
<td>cpm pc端行业底价（单位是分）</td>
</tr>
<tr>
<td style="text-align: left;">cpc_app_floor_price</td>
<td style="text-align: left;">bigint(20)</td>
<td style="text-align: left;">否</td>
<td>0</td>
<td>cpc app端行业底价（单位是分）</td>
</tr>
<tr>
<td style="text-align: left;">cpc_m_floor_price</td>
<td style="text-align: left;">bigint(20)</td>
<td style="text-align: left;">否</td>
<td>0</td>
<td>cpc m端行业底价（单位是分）</td>
</tr>
<tr>
<td style="text-align: left;">cpc_pc_floor_price</td>
<td style="text-align: left;">bigint(20)</td>
<td style="text-align: left;">否</td>
<td>0</td>
<td>cpc pc端行业底价（单位是分）</td>
</tr>
<tr>
<td style="text-align: left;">cpm_app_floor_price</td>
<td style="text-align: left;">bigint(20)</td>
<td style="text-align: left;">否</td>
<td>0</td>
<td>cpm app端行业底价（单位是分）</td>
</tr>
</tbody>
</table>
<ul>
<li>备注：无</li>
</ul></div><h3>8.1.7、资源表</h3><div style="margin-left:30px;"><ul>
<li>资源表-resource</li>
</ul>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">字段</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">空</th>
<th>默认</th>
<th>注释</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">bigint(20)</td>
<td style="text-align: left;">否</td>
<td></td>
<td>资源Id</td>
</tr>
<tr>
<td style="text-align: left;">resource_name</td>
<td style="text-align: left;">varchar(100)</td>
<td style="text-align: left;">否</td>
<td></td>
<td>资源名称</td>
</tr>
<tr>
<td style="text-align: left;">type</td>
<td style="text-align: left;">tinyint(2)</td>
<td style="text-align: left;">否</td>
<td></td>
<td>资源类型，资源级别</td>
</tr>
<tr>
<td style="text-align: left;">permission</td>
<td style="text-align: left;">varchar(100)</td>
<td style="text-align: left;">否</td>
<td></td>
<td>权限</td>
</tr>
<tr>
<td style="text-align: left;">status</td>
<td style="text-align: left;">int(11)</td>
<td style="text-align: left;">否</td>
<td>1</td>
<td>状态：1-开启，0-停用，999-删除，默认1-开启</td>
</tr>
<tr>
<td style="text-align: left;">create_time</td>
<td style="text-align: left;">datetime</td>
<td style="text-align: left;">否</td>
<td></td>
<td>创建时间</td>
</tr>
<tr>
<td style="text-align: left;">modify_time</td>
<td style="text-align: left;">timestamp</td>
<td style="text-align: left;">否</td>
<td></td>
<td>修改时间</td>
</tr>
<tr>
<td style="text-align: left;">operator_id</td>
<td style="text-align: left;">int(11)</td>
<td style="text-align: left;">否</td>
<td>0</td>
</tr>
<tr>
<td style="text-align: left;">operator_name</td>
<td style="text-align: left;">varchar(50)</td>
<td style="text-align: left;">否</td>
<td>admin</td>
</tr>
</tbody>
</table>
<ul>
<li>备注：无</li>
</ul></div><h3>8.1.8、角色表</h3><div style="margin-left:30px;"><ul>
<li>角色表-role</li>
</ul>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">字段</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">空</th>
<th>默认</th>
<th>注释</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">bigint(20)</td>
<td style="text-align: left;">否</td>
<td></td>
<td>角色主键id</td>
</tr>
<tr>
<td style="text-align: left;">role_name</td>
<td style="text-align: left;">varchar(100)</td>
<td style="text-align: left;">否</td>
<td></td>
<td>角色名称</td>
</tr>
<tr>
<td style="text-align: left;">description</td>
<td style="text-align: left;">varchar(100)</td>
<td style="text-align: left;">否</td>
<td></td>
<td>描述</td>
</tr>
<tr>
<td style="text-align: left;">resource_ids_str</td>
<td style="text-align: left;">varchar(100)</td>
<td style="text-align: left;">否</td>
<td></td>
<td>资源ID拼接的字符串</td>
</tr>
<tr>
<td style="text-align: left;">status</td>
<td style="text-align: left;">int(11)</td>
<td style="text-align: left;">否</td>
<td>1</td>
<td>状态：1-开启，0-停用，999-删除,默认1开启</td>
</tr>
<tr>
<td style="text-align: left;">create_time</td>
<td style="text-align: left;">datetime</td>
<td style="text-align: left;">否</td>
<td></td>
<td>创建时间</td>
</tr>
<tr>
<td style="text-align: left;">modify_time</td>
<td style="text-align: left;">timestamp</td>
<td style="text-align: left;">否</td>
<td></td>
<td>修改时间</td>
</tr>
<tr>
<td style="text-align: left;">role_type</td>
<td style="text-align: left;">tinyint(2)</td>
<td style="text-align: left;">否</td>
<td></td>
<td>角色类型：1-内部 2-外部代理 3-外部代理客户 4-外部直客</td>
</tr>
<tr>
<td style="text-align: left;">operator_id</td>
<td style="text-align: left;">int(11)</td>
<td style="text-align: left;">否</td>
<td>0</td>
</tr>
<tr>
<td style="text-align: left;">operator_name</td>
<td style="text-align: left;">varchar(50)</td>
<td style="text-align: left;">否</td>
<td>admin</td>
</tr>
</tbody>
</table>
<ul>
<li>备注：无</li>
</ul></div></div><h2>8.2、投放管理-数据库设计</h2><div style="margin-left:20px;"><h3>8.2.1、单元表</h3><div style="margin-left:30px;"><ul>
<li>单元表-adunit</li>
</ul>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">字段</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">空</th>
<th>默认</th>
<th>注释</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">bigint(20)</td>
<td style="text-align: left;">否</td>
<td>主键ID</td>
</tr>
<tr>
<td style="text-align: left;">agentId</td>
<td style="text-align: left;">bigint(20)</td>
<td style="text-align: left;">否</td>
<td>0</td>
<td>代理商ID</td>
</tr>
<tr>
<td style="text-align: left;">customerId</td>
<td style="text-align: left;">bigint(20)</td>
<td style="text-align: left;">否</td>
<td>客户ID</td>
</tr>
<tr>
<td style="text-align: left;">campaignId</td>
<td style="text-align: left;">bigint(20)</td>
<td style="text-align: left;">否</td>
<td>计划ID</td>
</tr>
<tr>
<td style="text-align: left;">name</td>
<td style="text-align: left;">varchar(100)</td>
<td style="text-align: left;">否</td>
<td>单元名称</td>
</tr>
<tr>
<td style="text-align: left;">bidPrice</td>
<td style="text-align: left;">bigint(20)</td>
<td style="text-align: left;">是</td>
<td>最高出价（单位是分）</td>
</tr>
<tr>
<td style="text-align: left;">startTime</td>
<td style="text-align: left;">date</td>
<td style="text-align: left;">是</td>
<td>投放开始时间</td>
</tr>
<tr>
<td style="text-align: left;">endTime</td>
<td style="text-align: left;">date</td>
<td style="text-align: left;">是</td>
<td>投放结束时间</td>
</tr>
<tr>
<td style="text-align: left;">bidType</td>
<td style="text-align: left;">int(11)</td>
<td style="text-align: left;">否</td>
<td>计费方式1-CPM/2-CPC</td>
</tr>
<tr>
<td style="text-align: left;">posId</td>
<td style="text-align: left;">int(11)</td>
<td style="text-align: left;">否</td>
<td>广告位</td>
</tr>
<tr>
<td style="text-align: left;">pubTimeType</td>
<td style="text-align: left;">tinyint(2)</td>
<td style="text-align: left;">否</td>
<td>投放时间段类型(1:不限/2:自定义)</td>
</tr>
<tr>
<td style="text-align: left;">status</td>
<td style="text-align: left;">int(11)</td>
<td style="text-align: left;">否</td>
<td>1</td>
<td>单元状态(1-待投放/2-投放中/3-下线_达日预算/4-下线_达账户预算/5-下线-达投放止期/6-已暂停/999-删除)</td>
</tr>
<tr>
<td style="text-align: left;">operatorId</td>
<td style="text-align: left;">int(11)</td>
<td style="text-align: left;">否</td>
<td>操作人</td>
</tr>
<tr>
<td style="text-align: left;">operatorName</td>
<td style="text-align: left;">varchar(50)</td>
<td style="text-align: left;">否</td>
<td>操作人名称</td>
</tr>
<tr>
<td style="text-align: left;">createTime</td>
<td style="text-align: left;">datetime</td>
<td style="text-align: left;">否</td>
<td>创建时间</td>
</tr>
<tr>
<td style="text-align: left;">modifyTime</td>
<td style="text-align: left;">datetime</td>
<td style="text-align: left;">否</td>
<td>最后修改时间</td>
</tr>
</tbody>
</table>
<ul>
<li>备注：无</li>
</ul></div><h3>8.2.2、单元投放时间表</h3><div style="margin-left:30px;"><ul>
<li>单元投放时间表-adunitpubtime</li>
</ul>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">字段</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">空</th>
<th>默认</th>
<th>注释</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">bigint(20)</td>
<td style="text-align: left;">否</td>
<td>主键ID</td>
</tr>
<tr>
<td style="text-align: left;">campaignId</td>
<td style="text-align: left;">bigint(20)</td>
<td style="text-align: left;">否</td>
<td>计划ID</td>
</tr>
<tr>
<td style="text-align: left;">adunitId</td>
<td style="text-align: left;">bigint(20)</td>
<td style="text-align: left;">否</td>
<td>广告单元id</td>
</tr>
<tr>
<td style="text-align: left;">weekday</td>
<td style="text-align: left;">tinyint(2)</td>
<td style="text-align: left;">否</td>
<td>星期标识（1,2,3,4,5,6,7）</td>
</tr>
<tr>
<td style="text-align: left;">pubTime</td>
<td style="text-align: left;">varchar(255)</td>
<td style="text-align: left;">否</td>
<td>投放时间逗号,</td>
</tr>
<tr>
<td style="text-align: left;">status</td>
<td style="text-align: left;">int(4)</td>
<td style="text-align: left;">否</td>
<td>状态：1-正常， 999-删除</td>
</tr>
<tr>
<td style="text-align: left;">createTime</td>
<td style="text-align: left;">Date</td>
<td style="text-align: left;">否</td>
<td>默认时间</td>
</tr>
</tbody>
</table>
<ul>
<li>备注：无</li>
</ul></div><h3>8.2.3、单元定向表</h3><div style="margin-left:30px;"><ul>
<li>单元定向表-adunittarget</li>
</ul>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">字段</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">空</th>
<th>默认</th>
<th>注释</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">bigint(20)</td>
<td style="text-align: left;">否</td>
<td>主键ID</td>
</tr>
<tr>
<td style="text-align: left;">campaignId</td>
<td style="text-align: left;">bigint(20)</td>
<td style="text-align: left;">否</td>
<td>计划ID</td>
</tr>
<tr>
<td style="text-align: left;">adunitId</td>
<td style="text-align: left;">bigint(20)</td>
<td style="text-align: left;">否</td>
<td>广告单元id</td>
</tr>
<tr>
<td style="text-align: left;">targetId</td>
<td style="text-align: left;">bigint(20)</td>
<td style="text-align: left;">否</td>
<td>定向维度ID</td>
</tr>
<tr>
<td style="text-align: left;">parentId</td>
<td style="text-align: left;">bigint(20)</td>
<td style="text-align: left;">否</td>
<td>定向层级父子关系 父节点</td>
</tr>
<tr>
<td style="text-align: left;">targetValue</td>
<td style="text-align: left;">bigint(20)</td>
<td style="text-align: left;">否</td>
<td>定向选项</td>
</tr>
<tr>
<td style="text-align: left;">targetName</td>
<td style="text-align: left;">varchar(100)</td>
<td style="text-align: left;">否</td>
<td>定向选项名称</td>
</tr>
<tr>
<td style="text-align: left;">pubValue</td>
<td style="text-align: left;">varchar(1000)</td>
<td style="text-align: left;">否</td>
<td>分发引擎内容</td>
</tr>
<tr>
<td style="text-align: left;">mutexeType</td>
<td style="text-align: left;">tinyint(2)</td>
<td style="text-align: left;">否</td>
<td>0:包含，1:排除</td>
</tr>
<tr>
<td style="text-align: left;">status</td>
<td style="text-align: left;">int(4)</td>
<td style="text-align: left;">否</td>
<td>状态：0-正常， 999-删除</td>
</tr>
<tr>
<td style="text-align: left;">createTime</td>
<td style="text-align: left;">Date</td>
<td style="text-align: left;">否</td>
<td>默认时间</td>
</tr>
</tbody>
</table>
<ul>
<li>备注：无</li>
</ul></div><h3>8.2.4、计划表</h3><div style="margin-left:30px;"><ul>
<li>计划表-campaign</li>
</ul>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">字段</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">空</th>
<th>默认</th>
<th>注释</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">bigint(11)</td>
<td style="text-align: left;">否</td>
<td>主键ID</td>
</tr>
<tr>
<td style="text-align: left;">agentId</td>
<td style="text-align: left;">bigint(11)</td>
<td style="text-align: left;">否</td>
<td>0</td>
<td>代理商ID</td>
</tr>
<tr>
<td style="text-align: left;">customerId</td>
<td style="text-align: left;">bigint(11)</td>
<td style="text-align: left;">否</td>
<td>客户ID</td>
</tr>
<tr>
<td style="text-align: left;">secondaryIndustryCode</td>
<td style="text-align: left;">varchar(20)</td>
<td style="text-align: left;">否</td>
<td>客户行业编码</td>
</tr>
<tr>
<td style="text-align: left;">name</td>
<td style="text-align: left;">varchar(100)</td>
<td style="text-align: left;">否</td>
<td>计划名称</td>
</tr>
<tr>
<td style="text-align: left;">status</td>
<td style="text-align: left;">int(11)</td>
<td style="text-align: left;">否</td>
<td>状态(1-投放中 2-已下线-达到日预算 3-已下线-账户余额不足 4-已暂停 999-已删除)</td>
</tr>
<tr>
<td style="text-align: left;">promotionType</td>
<td style="text-align: left;">int</td>
<td style="text-align: left;">否</td>
<td>推广目标1-网页/2-IOS应用/3-Android应用</td>
</tr>
<tr>
<td style="text-align: left;">dayBudget</td>
<td style="text-align: left;">bigint(20)</td>
<td style="text-align: left;">是</td>
<td>每日预算（单位是分）</td>
</tr>
<tr>
<td style="text-align: left;">contractId</td>
<td style="text-align: left;">bigint(20)</td>
<td style="text-align: left;">是</td>
<td>合同ID</td>
</tr>
<tr>
<td style="text-align: left;">contractNo</td>
<td style="text-align: left;">varchar(200)</td>
<td style="text-align: left;">是</td>
<td>合同号</td>
</tr>
<tr>
<td style="text-align: left;">contractType</td>
<td style="text-align: left;">int(11)</td>
<td style="text-align: left;">是</td>
<td>合同类型(0-付费,1-增版)</td>
</tr>
<tr>
<td style="text-align: left;">orderId</td>
<td style="text-align: left;">bigint(20)</td>
<td style="text-align: left;">是</td>
<td>订单ID</td>
</tr>
<tr>
<td style="text-align: left;">operatorId</td>
<td style="text-align: left;">int(11)</td>
<td style="text-align: left;">否</td>
<td>操作人</td>
</tr>
<tr>
<td style="text-align: left;">operatorName</td>
<td style="text-align: left;">varchar(50)</td>
<td style="text-align: left;">否</td>
<td>操作人名称</td>
</tr>
<tr>
<td style="text-align: left;">createTime</td>
<td style="text-align: left;">datetime</td>
<td style="text-align: left;">否</td>
<td>创建时间</td>
</tr>
<tr>
<td style="text-align: left;">modifyTime</td>
<td style="text-align: left;">datetime</td>
<td style="text-align: left;">否</td>
<td>最后修改时间</td>
</tr>
<tr>
<td style="text-align: left;">bidWeight</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">否</td>
<td>1</td>
<td>投放权重(0.1-20)</td>
</tr>
<tr>
<td style="text-align: left;">priority</td>
<td style="text-align: left;">int(11)</td>
<td style="text-align: left;">是</td>
<td>0</td>
<td>投放优先级（0-商业/1-内推/2-内推特批）</td>
</tr>
</tbody>
</table>
<ul>
<li>备注：无</li>
</ul></div><h3>8.2.5、自定义人群表</h3><div style="margin-left:30px;"><ul>
<li>自定义人群表-crowd</li>
</ul>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">字段</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">空</th>
<th>默认</th>
<th>注释</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">int(11)</td>
<td style="text-align: left;">否</td>
<td>主键ID，系统自动生成</td>
</tr>
<tr>
<td style="text-align: left;">crowdName</td>
<td style="text-align: left;">varchar(60)</td>
<td style="text-align: left;">否</td>
<td>人群名称，1-50个字符，不能重复</td>
</tr>
<tr>
<td style="text-align: left;">customerId</td>
<td style="text-align: left;">bigint(20)</td>
<td style="text-align: left;">否</td>
<td>所属客户Id</td>
</tr>
<tr>
<td style="text-align: left;">crowdType</td>
<td style="text-align: left;">tinyint(2)</td>
<td style="text-align: left;">否</td>
<td>人群包类型 1-号码包 2-车系访问人群包 3-网页重定向人群包</td>
</tr>
<tr>
<td style="text-align: left;">status</td>
<td style="text-align: left;">tinyint(2)</td>
<td style="text-align: left;">否</td>
<td>状态 1-生效中 2-有效</td>
</tr>
<tr>
<td style="text-align: left;">value</td>
<td style="text-align: left;">text</td>
<td style="text-align: left;">否</td>
<td>人群包信息(Json串)，页面保存时原始数据</td>
</tr>
<tr>
<td style="text-align: left;">pubValue</td>
<td style="text-align: left;">varchar(500)</td>
<td style="text-align: left;">否</td>
<td>定向选择该人群定向后分发使用</td>
</tr>
<tr>
<td style="text-align: left;">createTime</td>
<td style="text-align: left;">datetime</td>
<td style="text-align: left;">否</td>
<td>创建时间</td>
</tr>
<tr>
<td style="text-align: left;">operatorId</td>
<td style="text-align: left;">int(11)</td>
<td style="text-align: left;">否</td>
<td>0</td>
<td>操作人id</td>
</tr>
<tr>
<td style="text-align: left;">operatorName</td>
<td style="text-align: left;">varchar(50)</td>
<td style="text-align: left;">否</td>
<td>admin</td>
<td>操作人名称</td>
</tr>
<tr>
<td style="text-align: left;">modifyTime</td>
<td style="text-align: left;">timestamp</td>
<td style="text-align: left;">否</td>
<td>修改时间</td>
</tr>
</tbody>
</table>
<ul>
<li>备注：无</li>
</ul></div><h3>8.2.6、定向标签表</h3><div style="margin-left:30px;"><ul>
<li>定向标签表-targetlabel</li>
</ul>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">字段</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">空</th>
<th>默认</th>
<th>注释</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">bigint(20)</td>
<td style="text-align: left;">否</td>
<td>主键ID</td>
</tr>
<tr>
<td style="text-align: left;">targetName</td>
<td style="text-align: left;">varchar(100)</td>
<td style="text-align: left;">否</td>
<td>定向维度名称</td>
</tr>
<tr>
<td style="text-align: left;">text</td>
<td style="text-align: left;">varchar(50)</td>
<td style="text-align: left;">否</td>
<td>自定义文案</td>
</tr>
<tr>
<td style="text-align: left;">targetId</td>
<td style="text-align: left;">bigint(20)</td>
<td style="text-align: left;">否</td>
<td>定向维度id</td>
</tr>
<tr>
<td style="text-align: left;">labelType</td>
<td style="text-align: left;">varchar(10)</td>
<td style="text-align: left;">是</td>
<td>展示类型(list,group,lbs,tree)</td>
</tr>
<tr>
<td style="text-align: left;">supportPromotion</td>
<td style="text-align: left;">varchar(50)</td>
<td style="text-align: left;">否</td>
<td>1,2,3</td>
<td>定向支持推广目标类型(1-网页/2-IOS应用/3-Android应用)</td>
</tr>
<tr>
<td style="text-align: left;">required</td>
<td style="text-align: left;">tinyint(2)</td>
<td style="text-align: left;">是</td>
<td>0</td>
<td>是否必填项：0-非必填 1-必填</td>
</tr>
</tbody>
</table>
<ul>
<li>备注：无</li>
</ul></div><h3>8.2.7、定向关联表</h3><div style="margin-left:30px;"><ul>
<li>定向关联表-targetrelation</li>
</ul>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">字段</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">空</th>
<th>默认</th>
<th>注释</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">bigint(20)</td>
<td style="text-align: left;">否</td>
<td>主键ID</td>
</tr>
<tr>
<td style="text-align: left;">parentId</td>
<td style="text-align: left;">bigint(20)</td>
<td style="text-align: left;">是</td>
<td>0</td>
<td>父级定向id，第一级定向的父级为0</td>
</tr>
<tr>
<td style="text-align: left;">targetId</td>
<td style="text-align: left;">bigint(20)</td>
<td style="text-align: left;">是</td>
<td>定向维度ID</td>
</tr>
<tr>
<td style="text-align: left;">name</td>
<td style="text-align: left;">varchar(50)</td>
<td style="text-align: left;">是</td>
<td>定向名称</td>
</tr>
<tr>
<td style="text-align: left;">type</td>
<td style="text-align: left;">tinyint(2)</td>
<td style="text-align: left;">是</td>
<td>区分同一父级定向ID下多个子定向城市：商圈、4s店</td>
</tr>
<tr>
<td style="text-align: left;">status</td>
<td style="text-align: left;">tinyint(2)</td>
<td style="text-align: left;">是</td>
<td>0</td>
<td>状态：0-启用1-停用</td>
</tr>
</tbody>
</table>
<ul>
<li>备注：无</li>
</ul></div></div><h2>8.3、创意管理-数据库设计</h2><div style="margin-left:20px;"><h3>8.3.1、ADX接入表</h3><div style="margin-left:30px;"><ul>
<li>adx信息表 adx_info</li>
</ul>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">字段</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">空</th>
<th>默认</th>
<th>注释</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">bigint(20)</td>
<td style="text-align: left;">否</td>
<td>主键id</td>
</tr>
<tr>
<td style="text-align: left;">adx_name</td>
<td style="text-align: left;">varchar(128)</td>
<td style="text-align: left;">否</td>
<td>adx名称</td>
</tr>
<tr>
<td style="text-align: left;">description</td>
<td style="text-align: left;">varchar(128)</td>
<td style="text-align: left;">是</td>
<td>adx描述</td>
</tr>
<tr>
<td style="text-align: left;">dsp_id</td>
<td style="text-align: left;">varchar(64)</td>
<td style="text-align: left;">否</td>
<td>adx分配的dspId</td>
</tr>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">varchar(128)</td>
<td style="text-align: left;">是</td>
<td>adx分配的token</td>
</tr>
<tr>
<td style="text-align: left;">create_time</td>
<td style="text-align: left;">datetime</td>
<td style="text-align: left;">否</td>
<td>创建时间</td>
</tr>
<tr>
<td style="text-align: left;">modify_time</td>
<td style="text-align: left;">datetime</td>
<td style="text-align: left;">否</td>
<td>修改时间</td>
</tr>
</tbody>
</table>
<ul>
<li>备注：无</li>
</ul></div><h3>8.3.2、ADX规格表</h3><div style="margin-left:30px;"><ul>
<li>adx选项表-adx_option</li>
</ul>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">字段</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">空</th>
<th>默认</th>
<th>注释</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">bigint(20) unsigned</td>
<td style="text-align: left;">否</td>
</tr>
<tr>
<td style="text-align: left;">name</td>
<td style="text-align: left;">varchar(50)</td>
<td style="text-align: left;">否</td>
<td>ADX规格名称</td>
</tr>
<tr>
<td style="text-align: left;">adx_id</td>
<td style="text-align: left;">bigint(20) unsigned</td>
<td style="text-align: left;">否</td>
<td>adxId</td>
</tr>
<tr>
<td style="text-align: left;">adx_template_id</td>
<td style="text-align: left;">bigint(20) unsigned</td>
<td style="text-align: left;">是</td>
</tr>
<tr>
<td style="text-align: left;">option_id</td>
<td style="text-align: left;">bigint(20) unsigned</td>
<td style="text-align: left;">否</td>
<td>规格ID</td>
</tr>
<tr>
<td style="text-align: left;">pos_id</td>
<td style="text-align: left;">bigint(20) unsigned</td>
<td style="text-align: left;">否</td>
<td>广告位ID</td>
</tr>
<tr>
<td style="text-align: left;">pic_url</td>
<td style="text-align: left;">bigint(20) unsigned</td>
<td style="text-align: left;">否</td>
<td>预览图</td>
</tr>
<tr>
<td style="text-align: left;">create_time</td>
<td style="text-align: left;">datetime</td>
<td style="text-align: left;">否</td>
<td>创建时间</td>
</tr>
<tr>
<td style="text-align: left;">modify_time</td>
<td style="text-align: left;">datetime</td>
<td style="text-align: left;">否</td>
<td>修改时间</td>
</tr>
</tbody>
</table>
<ul>
<li>备注：无</li>
</ul></div><h3>8.3.3、ADX模板表</h3><div style="margin-left:30px;"><ul>
<li>adx_template</li>
</ul>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">字段</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">空</th>
<th>默认</th>
<th>注释</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">bigint(20) unsigned</td>
<td style="text-align: left;">否</td>
<td>主键</td>
</tr>
<tr>
<td style="text-align: left;">adx_id</td>
<td style="text-align: left;">bigint</td>
<td style="text-align: left;">否</td>
<td>adxId</td>
</tr>
<tr>
<td style="text-align: left;">adx_template_id</td>
<td style="text-align: left;">int(11)</td>
<td style="text-align: left;">否</td>
<td>adx模板id</td>
</tr>
<tr>
<td style="text-align: left;">content</td>
<td style="text-align: left;">varchar(10240)</td>
<td style="text-align: left;">否</td>
<td>模板内容</td>
</tr>
<tr>
<td style="text-align: left;">create_time</td>
<td style="text-align: left;">datetime</td>
<td style="text-align: left;">否</td>
<td>创建时间</td>
</tr>
<tr>
<td style="text-align: left;">modify_time</td>
<td style="text-align: left;">datetime</td>
<td style="text-align: left;">否</td>
<td>修改时间</td>
</tr>
</tbody>
</table>
<ul>
<li>备注：无</li>
</ul></div><h3>8.3.4、广告位表</h3><div style="margin-left:30px;"><ul>
<li>创意广告位表 position</li>
</ul>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">字段</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">空</th>
<th>默认</th>
<th>注释</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">bigint(20)</td>
<td style="text-align: left;">否</td>
<td>主键</td>
</tr>
<tr>
<td style="text-align: left;">name</td>
<td style="text-align: left;">varchar(50)</td>
<td style="text-align: left;">否</td>
<td>广告位名称</td>
</tr>
<tr>
<td style="text-align: left;">description</td>
<td style="text-align: left;">varchar(200)</td>
<td style="text-align: left;">否</td>
<td>广告位描述</td>
</tr>
<tr>
<td style="text-align: left;">creative_type</td>
<td style="text-align: left;">varchar(64)</td>
<td style="text-align: left;">是</td>
<td>创意类型</td>
</tr>
<tr>
<td style="text-align: left;">width</td>
<td style="text-align: left;">int</td>
<td style="text-align: left;">是</td>
<td>宽度</td>
</tr>
<tr>
<td style="text-align: left;">height</td>
<td style="text-align: left;">int</td>
<td style="text-align: left;">是</td>
<td>高度</td>
</tr>
<tr>
<td style="text-align: left;">sortby</td>
<td style="text-align: left;">int</td>
<td style="text-align: left;">是</td>
<td>排序</td>
</tr>
<tr>
<td style="text-align: left;">create_time</td>
<td style="text-align: left;">datetime</td>
<td style="text-align: left;">是</td>
<td>创建时间</td>
</tr>
<tr>
<td style="text-align: left;">modify_time</td>
<td style="text-align: left;">datetime</td>
<td style="text-align: left;">是</td>
<td>修改时间</td>
</tr>
<tr>
<td style="text-align: left;">support_permission</td>
<td style="text-align: left;">varchar(100)</td>
<td style="text-align: left;">是</td>
<td>支持推广目标(1-网页推广，2-IOS推广，3-Android推广)</td>
</tr>
</tbody>
</table>
<ul>
<li>备注：无</li>
</ul></div><h3>8.3.5、广告位规格表</h3><div style="margin-left:30px;"><ul>
<li>广告规格表 option</li>
</ul>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">字段</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">空</th>
<th>默认</th>
<th>注释</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">bigint(20) unsigned</td>
<td style="text-align: left;">否</td>
<td>主键</td>
</tr>
<tr>
<td style="text-align: left;">name</td>
<td style="text-align: left;">varchar(200)</td>
</tr>
<tr>
<td style="text-align: left;">width</td>
<td style="text-align: left;">int(11) unsigned</td>
<td style="text-align: left;">是</td>
<td>外框宽度</td>
</tr>
<tr>
<td style="text-align: left;">height</td>
<td style="text-align: left;">int(11) unsigned</td>
<td style="text-align: left;">是</td>
<td>外框高度</td>
</tr>
<tr>
<td style="text-align: left;">create_time</td>
<td style="text-align: left;">datetime</td>
<td style="text-align: left;">否</td>
<td>创建时间</td>
</tr>
<tr>
<td style="text-align: left;">modify_time</td>
<td style="text-align: left;">datetime</td>
<td style="text-align: left;">否</td>
<td>修改时间</td>
</tr>
<tr>
<td style="text-align: left;">status</td>
<td style="text-align: left;">int(11) unsigned</td>
<td style="text-align: left;">否</td>
<td>状态</td>
</tr>
</tbody>
</table>
<ul>
<li>备注：无</li>
</ul></div><h3>8.3.6、规格元素表</h3><div style="margin-left:30px;"><ul>
<li>选项元素表-option_element</li>
</ul>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">字段</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">空</th>
<th>默认</th>
<th>注释</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">bigint(20)</td>
<td style="text-align: left;">否</td>
<td>主键</td>
</tr>
<tr>
<td style="text-align: left;">option_id</td>
<td style="text-align: left;">bigint(20) unsigned</td>
<td style="text-align: left;">否</td>
<td>规格id</td>
</tr>
<tr>
<td style="text-align: left;">type</td>
<td style="text-align: left;">tinyint(4) unsigned</td>
<td style="text-align: left;">否</td>
<td>类型：1-图片/2-文字/3-视频</td>
</tr>
<tr>
<td style="text-align: left;">text</td>
<td style="text-align: left;">varchar(50)</td>
<td style="text-align: left;">是</td>
<td>文字链对应文案</td>
</tr>
<tr>
<td style="text-align: left;">space_holder</td>
<td style="text-align: left;">varchar(64)</td>
<td style="text-align: left;">是</td>
<td>占位符</td>
</tr>
<tr>
<td style="text-align: left;">support_type</td>
<td style="text-align: left;">varchar(64)</td>
<td style="text-align: left;">是</td>
<td>支持的文件扩展类型</td>
</tr>
<tr>
<td style="text-align: left;">width</td>
<td style="text-align: left;">int</td>
<td style="text-align: left;">是</td>
<td>宽度</td>
</tr>
<tr>
<td style="text-align: left;">height</td>
<td style="text-align: left;">int</td>
<td style="text-align: left;">是</td>
<td>高度</td>
</tr>
<tr>
<td style="text-align: left;">min</td>
<td style="text-align: left;">int</td>
<td style="text-align: left;">是</td>
<td>最小图片大小/文字链长度</td>
</tr>
<tr>
<td style="text-align: left;">max</td>
<td style="text-align: left;">int</td>
<td style="text-align: left;">是</td>
<td>最大图片大小/文字链长度</td>
</tr>
</tbody>
</table>
<ul>
<li>备注：无</li>
</ul></div><h3>8.3.7、创意类型映射表</h3><div style="margin-left:30px;"><ul>
<li>创意类型映射表 adx_creative_type</li>
</ul>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">字段</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">空</th>
<th>默认</th>
<th>注释</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">int(11) unsigned</td>
<td style="text-align: left;">否</td>
<td>自增主键</td>
</tr>
<tr>
<td style="text-align: left;">adx_id</td>
<td style="text-align: left;">bigint(11) unsigned</td>
<td style="text-align: left;">否</td>
<td>adxid</td>
</tr>
<tr>
<td style="text-align: left;">creative_type</td>
<td style="text-align: left;">tinyint(4) unsigned</td>
<td style="text-align: left;">否</td>
<td>dsp的创意类型</td>
</tr>
<tr>
<td style="text-align: left;">adx_creative_type</td>
<td style="text-align: left;">int(4) unsigned</td>
<td style="text-align: left;">否</td>
<td>adx的创意类型</td>
</tr>
</tbody>
</table></div><h3>8.3.8、创意表</h3><div style="margin-left:30px;"><ul>
<li>创意表-creative</li>
</ul>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">字段</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">空</th>
<th>默认</th>
<th>注释</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">creative_id</td>
<td style="text-align: left;">bigint(20) unsigned</td>
<td style="text-align: left;">否</td>
<td>主键id</td>
</tr>
<tr>
<td style="text-align: left;">creative_type</td>
<td style="text-align: left;">tinyint</td>
<td style="text-align: left;">否</td>
<td>创意类型</td>
</tr>
<tr>
<td style="text-align: left;">agent_id</td>
<td style="text-align: left;">bigint(20)</td>
<td style="text-align: left;">否</td>
<td>0</td>
<td>代理商ID</td>
</tr>
<tr>
<td style="text-align: left;">customer_id</td>
<td style="text-align: left;">bigint(20) unsigned</td>
<td style="text-align: left;">否</td>
<td>客户id</td>
</tr>
<tr>
<td style="text-align: left;">dept_id</td>
<td style="text-align: left;">bigint(20) unsigned</td>
<td style="text-align: left;">否</td>
<td>部门ID</td>
</tr>
<tr>
<td style="text-align: left;">campaign_id</td>
<td style="text-align: left;">bigint(20) unsigned</td>
<td style="text-align: left;">否</td>
<td>计划id</td>
</tr>
<tr>
<td style="text-align: left;">adUnit_id</td>
<td style="text-align: left;">bigint(20) unsigned</td>
<td style="text-align: left;">否</td>
<td>单元id</td>
</tr>
<tr>
<td style="text-align: left;">click_url</td>
<td style="text-align: left;">varchar(2048)</td>
<td style="text-align: left;">否</td>
<td>点击链接</td>
</tr>
<tr>
<td style="text-align: left;">status</td>
<td style="text-align: left;">int(11)</td>
<td style="text-align: left;">否</td>
<td>创意状态</td>
</tr>
<tr>
<td style="text-align: left;">suggest_msg</td>
<td style="text-align: left;">varchar(512)</td>
<td style="text-align: left;">是</td>
<td>审核失败原因</td>
</tr>
<tr>
<td style="text-align: left;">value</td>
<td style="text-align: left;">varchar(512)</td>
<td style="text-align: left;">否</td>
<td>冗余字段，列表显示value</td>
</tr>
<tr>
<td style="text-align: left;">size</td>
<td style="text-align: left;">varchar(128)</td>
<td style="text-align: left;">是</td>
<td>冗余字段，列表显示尺寸</td>
</tr>
<tr>
<td style="text-align: left;">create_time</td>
<td style="text-align: left;">datetime</td>
<td style="text-align: left;">否</td>
<td>创建时间</td>
</tr>
<tr>
<td style="text-align: left;">modify_time</td>
<td style="text-align: left;">timestamp</td>
<td style="text-align: left;">否</td>
<td>修改时间</td>
</tr>
<tr>
<td style="text-align: left;">operator_id</td>
<td style="text-align: left;">int(11) unsigned</td>
<td style="text-align: left;">否</td>
<td>最后修改人id</td>
</tr>
<tr>
<td style="text-align: left;">operator_name</td>
<td style="text-align: left;">varchar(128)</td>
<td style="text-align: left;">否</td>
<td>最后修改人名称</td>
</tr>
<tr>
<td style="text-align: left;">option_id</td>
<td style="text-align: left;">varchar(64)</td>
<td style="text-align: left;">是</td>
<td>广告位规格ID</td>
</tr>
</tbody>
</table>
<ul>
<li>备注：无</li>
</ul></div><h3>8.3.9、创意审核表</h3><div style="margin-left:30px;"><ul>
<li>创意审核单元表-creative_audit</li>
</ul>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">字段</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">空</th>
<th>默认</th>
<th>注释</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">bigint(20) unsigned</td>
<td style="text-align: left;">否</td>
<td>主键id</td>
</tr>
<tr>
<td style="text-align: left;">creative_id</td>
<td style="text-align: left;">bigint(20) unsigned</td>
<td style="text-align: left;">否</td>
<td>创意id</td>
</tr>
<tr>
<td style="text-align: left;">adx_id</td>
<td style="text-align: left;">bigint(20) unsigned</td>
<td style="text-align: left;">否</td>
<td>审核adx的id</td>
</tr>
<tr>
<td style="text-align: left;">audit_status</td>
<td style="text-align: left;">int(11)</td>
<td style="text-align: left;">否</td>
<td>审核状态</td>
</tr>
<tr>
<td style="text-align: left;">suggest_msg</td>
<td style="text-align: left;">varchar(512)</td>
<td style="text-align: left;">是</td>
<td>审核失败的原因</td>
</tr>
<tr>
<td style="text-align: left;">customer_id</td>
<td style="text-align: left;">bigint(20)</td>
<td style="text-align: left;">否</td>
</tr>
<tr>
<td style="text-align: left;">customer_name</td>
<td style="text-align: left;">varchar(128)</td>
<td style="text-align: left;">否</td>
</tr>
<tr>
<td style="text-align: left;">industry_code</td>
<td style="text-align: left;">int(20) unsigned</td>
<td style="text-align: left;">是</td>
<td>二级行业id，可能为空，取决于adx</td>
</tr>
<tr>
<td style="text-align: left;">industry_name</td>
<td style="text-align: left;">varchar(128)</td>
<td style="text-align: left;">是</td>
<td>二级行业名称</td>
</tr>
<tr>
<td style="text-align: left;">adx_creative_id</td>
<td style="text-align: left;">bigint(20) unsigned</td>
<td style="text-align: left;">是</td>
<td>adx的创意id</td>
</tr>
<tr>
<td style="text-align: left;">adx_template_id</td>
<td style="text-align: left;">bigint(20)</td>
<td style="text-align: left;">是</td>
<td>adx的模板id</td>
</tr>
<tr>
<td style="text-align: left;">option_id</td>
<td style="text-align: left;">bigint(20)</td>
<td style="text-align: left;">否</td>
</tr>
<tr>
<td style="text-align: left;">width</td>
<td style="text-align: left;">int(11)</td>
<td style="text-align: left;">否</td>
</tr>
<tr>
<td style="text-align: left;">height</td>
<td style="text-align: left;">int(11)</td>
<td style="text-align: left;">否</td>
</tr>
<tr>
<td style="text-align: left;">adx_creative_type</td>
<td style="text-align: left;">int(11)</td>
<td style="text-align: left;">是</td>
</tr>
<tr>
<td style="text-align: left;">content</td>
<td style="text-align: left;">varchar(10240)</td>
<td style="text-align: left;">否</td>
<td>创意内容</td>
</tr>
<tr>
<td style="text-align: left;">check_time</td>
<td style="text-align: left;">datetime</td>
<td style="text-align: left;">否</td>
<td>上一次同步信息的时间</td>
</tr>
<tr>
<td style="text-align: left;">audit_time</td>
<td style="text-align: left;">datetime</td>
<td style="text-align: left;">是</td>
</tr>
<tr>
<td style="text-align: left;">create_time</td>
<td style="text-align: left;">datetime</td>
<td style="text-align: left;">否</td>
<td>创建时间</td>
</tr>
<tr>
<td style="text-align: left;">modify_time</td>
<td style="text-align: left;">datetime</td>
<td style="text-align: left;">否</td>
<td>修改时间</td>
</tr>
<tr>
<td style="text-align: left;">status</td>
<td style="text-align: left;">int(11) unsigned</td>
<td style="text-align: left;">是</td>
<td>状态(1-有效/999-删除</td>
</tr>
</tbody>
</table>
<ul>
<li>备注：无</li>
</ul></div><h3>8.3.10、创意元素表</h3><div style="margin-left:30px;"><ul>
<li>创意元素表-creative_element</li>
</ul>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">字段</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">空</th>
<th>默认</th>
<th>注释</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">bigint(20) unsigned</td>
<td style="text-align: left;">否</td>
<td>主键id</td>
</tr>
<tr>
<td style="text-align: left;">creative_id</td>
<td style="text-align: left;">bigint(20) unsigned</td>
<td style="text-align: left;">否</td>
<td>创意id</td>
</tr>
<tr>
<td style="text-align: left;">space_holder</td>
<td style="text-align: left;">varchar(64)</td>
<td style="text-align: left;">否</td>
<td>占位符</td>
</tr>
<tr>
<td style="text-align: left;">element_type</td>
<td style="text-align: left;">tinyint(4) unsigned</td>
<td style="text-align: left;">否</td>
<td>创意元素类型</td>
</tr>
<tr>
<td style="text-align: left;">value</td>
<td style="text-align: left;">varchar(2048)</td>
<td style="text-align: left;">否</td>
<td>元素值：text文案、link值、图片url、视频url</td>
</tr>
<tr>
<td style="text-align: left;">width</td>
<td style="text-align: left;">int(11) unsigned</td>
<td style="text-align: left;">是</td>
<td>宽度</td>
</tr>
<tr>
<td style="text-align: left;">height</td>
<td style="text-align: left;">int(11) unsigned</td>
<td style="text-align: left;">是</td>
<td>高度</td>
</tr>
<tr>
<td style="text-align: left;">size</td>
<td style="text-align: left;">int(11) unsigned</td>
<td style="text-align: left;">是</td>
<td>大小：文字链的长度；图片的K数；视频的容量</td>
</tr>
</tbody>
</table>
<ul>
<li>备注：无</li>
</ul></div><h3>8.3.11、创意下载信息表</h3><div style="margin-left:30px;"><ul>
<li>creative_downinfo</li>
</ul>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">字段</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">空</th>
<th>默认</th>
<th>注释</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">bigint(20) unsigned</td>
<td style="text-align: left;">否</td>
<td>主键id</td>
</tr>
<tr>
<td style="text-align: left;">creative_id</td>
<td style="text-align: left;">bigint(20)</td>
<td style="text-align: left;">否</td>
<td>创意id</td>
</tr>
<tr>
<td style="text-align: left;">name</td>
<td style="text-align: left;">varchar(256)</td>
<td style="text-align: left;">否</td>
<td>应用名称</td>
</tr>
<tr>
<td style="text-align: left;">apk_name</td>
<td style="text-align: left;">varchar(256)</td>
<td style="text-align: left;">是</td>
<td>下载包名字(安卓)</td>
</tr>
<tr>
<td style="text-align: left;">app_id</td>
<td style="text-align: left;">varchar(256)</td>
<td style="text-align: left;">是</td>
<td>AppStore分配的id</td>
</tr>
</tbody>
</table>
<ul>
<li>备注：无</li>
</ul></div><h3>8.3.12、行业信息映射表</h3><div style="margin-left:30px;"><ul>
<li>行业信息表-industry_mapping</li>
</ul>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">字段</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">空</th>
<th>默认</th>
<th>注释</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">bigint(20)</td>
<td style="text-align: left;">否</td>
<td>主键ID</td>
</tr>
<tr>
<td style="text-align: left;">adx_id</td>
<td style="text-align: left;">bigint(20)</td>
<td style="text-align: left;">否</td>
<td>adxId</td>
</tr>
<tr>
<td style="text-align: left;">firstly_industry_name</td>
<td style="text-align: left;">varchar(50)</td>
<td style="text-align: left;">否</td>
<td>之家dsp一级行业名称</td>
</tr>
<tr>
<td style="text-align: left;">firstly_industry_code</td>
<td style="text-align: left;">int(11)</td>
<td style="text-align: left;">否</td>
<td>之家dsp一级行业编号</td>
</tr>
<tr>
<td style="text-align: left;">secondary_industry_name</td>
<td style="text-align: left;">varchar(50)</td>
<td style="text-align: left;">否</td>
<td>之家dsp二级行业名称</td>
</tr>
<tr>
<td style="text-align: left;">secondary_industry_code</td>
<td style="text-align: left;">int(11)</td>
<td style="text-align: left;">否</td>
<td>之家dsp二级行业编码</td>
</tr>
<tr>
<td style="text-align: left;">industry_class</td>
<td style="text-align: left;">varchar(20)</td>
<td style="text-align: left;">否</td>
<td>行业分类</td>
</tr>
<tr>
<td style="text-align: left;">adx_firstly_industry_name</td>
<td style="text-align: left;">varchar(50)</td>
<td style="text-align: left;">否</td>
<td>平安科技adx一级行业名称</td>
</tr>
<tr>
<td style="text-align: left;">adx_firstly_industry_code</td>
<td style="text-align: left;">int(11)</td>
<td style="text-align: left;">否</td>
<td>平安科技adx一级行业编号</td>
</tr>
<tr>
<td style="text-align: left;">adx_secondary_industry_name</td>
<td style="text-align: left;">varchar(50)</td>
<td style="text-align: left;">否</td>
<td>平安科技adx二级行业名称</td>
</tr>
<tr>
<td style="text-align: left;">adx_secondary_industry_code</td>
<td style="text-align: left;">int(11)</td>
<td style="text-align: left;">否</td>
<td>平安科技adx二级行业编码</td>
</tr>
<tr>
<td style="text-align: left;">status</td>
<td style="text-align: left;">int(11)</td>
<td style="text-align: left;">否</td>
<td>状态(1:有效；2:无效；999:删除)</td>
</tr>
</tbody>
</table>
<ul>
<li>备注：无</li>
</ul></div></div><h2>8.4、分发管理-数据库设计</h2><div style="margin-left:20px;"><h3>8.4.1、全量日志表</h3><div style="margin-left:30px;"><ul>
<li>全量日志表-fulllog</li>
</ul>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">字段</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">空</th>
<th>默认</th>
<th>注释</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">bigint(20)</td>
<td style="text-align: left;">否</td>
<td>全量表主键Id</td>
</tr>
<tr>
<td style="text-align: left;">status</td>
<td style="text-align: left;">tinyint(2)</td>
<td style="text-align: left;">否</td>
<td>1-处理中2-分发完成</td>
</tr>
<tr>
<td style="text-align: left;">beginTime</td>
<td style="text-align: left;">datetime</td>
<td style="text-align: left;">是</td>
<td>开始时间</td>
</tr>
<tr>
<td style="text-align: left;">endTime</td>
<td style="text-align: left;">datetime</td>
<td style="text-align: left;">是</td>
<td>结束时间</td>
</tr>
<tr>
<td style="text-align: left;">deliveryDate</td>
<td style="text-align: left;">datetime</td>
<td style="text-align: left;">否</td>
<td>投放日期</td>
</tr>
</tbody>
</table>
<ul>
<li>备注：无</li>
</ul></div><h3>8.4.2、分发记录表</h3><div style="margin-left:30px;"><ul>
<li>用户表，储存用户信息</li>
</ul>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">字段</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">空</th>
<th>默认</th>
<th>注释</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">bigint(20)</td>
<td style="text-align: left;">否</td>
<td>增量表主键Id</td>
</tr>
<tr>
<td style="text-align: left;">entityId</td>
<td style="text-align: left;">bigint(20)</td>
<td style="text-align: left;">否</td>
<td>增量发送的实体id(计划id\单元id\创意id)</td>
</tr>
<tr>
<td style="text-align: left;">businessType</td>
<td style="text-align: left;">tinyint(2)</td>
<td style="text-align: left;">否</td>
<td>增量类型,1-计划/2-单元/3-创意</td>
</tr>
<tr>
<td style="text-align: left;">deliveryDate</td>
<td style="text-align: left;">date</td>
<td style="text-align: left;">是</td>
<td>投放日期</td>
</tr>
<tr>
<td style="text-align: left;">publishTime</td>
<td style="text-align: left;">datetime</td>
<td style="text-align: left;">否</td>
<td>分发时间</td>
</tr>
<tr>
<td style="text-align: left;">operationType</td>
<td style="text-align: left;">tinyint(2)</td>
<td style="text-align: left;">否</td>
<td>操作类型，1-新增/2-修改/3-删除/4-开启/5-暂停</td>
</tr>
<tr>
<td style="text-align: left;">pbContent</td>
<td style="text-align: left;">mediumtext</td>
<td style="text-align: left;">否</td>
<td>pb内容</td>
</tr>
</tbody>
</table>
<ul>
<li>备注：无</li>
</ul></div><h3>8.4.3、编码映射表</h3><div style="margin-left:30px;"><ul>
<li>编码映射表-uniquecode_mapping</li>
</ul>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">字段</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">空</th>
<th>默认</th>
<th>注释</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">int(11)</td>
<td style="text-align: left;">否</td>
<td>主键ID，系统自动生成</td>
</tr>
<tr>
<td style="text-align: left;">keyId</td>
<td style="text-align: left;">varchar(100)</td>
<td style="text-align: left;">是</td>
<td>关联字段，暂时值为客户id</td>
</tr>
<tr>
<td style="text-align: left;">uniqueCode</td>
<td style="text-align: left;">varchar(800)</td>
<td style="text-align: left;">是</td>
<td>过滤码</td>
</tr>
<tr>
<td style="text-align: left;">operatorId</td>
<td style="text-align: left;">int(11)</td>
<td style="text-align: left;">否</td>
<td>0</td>
</tr>
<tr>
<td style="text-align: left;">operatorName</td>
<td style="text-align: left;">varchar(50)</td>
<td style="text-align: left;">否</td>
<td>admin</td>
</tr>
<tr>
<td style="text-align: left;">modifyTime</td>
<td style="text-align: left;">timestamp</td>
<td style="text-align: left;">否</td>
<td>修改时间</td>
</tr>
<tr>
<td style="text-align: left;">createTime</td>
<td style="text-align: left;">datetime</td>
<td style="text-align: left;">否</td>
<td>创建时间</td>
</tr>
</tbody>
</table>
<ul>
<li>备注：无</li>
</ul></div></div></div><h1>9、V1.1接口服务</h1><div style="margin-left:20px;"><h2>9.1、创意服务</h2><div style="margin-left:20px;"><h3>9.1.1、创意列表接口</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>创意列表接口</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>http://dsp.zybang.com/dsp-creative/creative/list</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>POST </li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">说明</th>
<th>必选</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">queryType</td>
<td style="text-align: left;">int</td>
<td style="text-align: left;">查询类型</td>
<td>否</td>
<td>1-按照创意ID, 2-按所属计划,3-按所属单元</td>
</tr>
<tr>
<td style="text-align: left;">content</td>
<td style="text-align: left;">String</td>
<td style="text-align: left;">查询内容</td>
<td>否</td>
</tr>
<tr>
<td style="text-align: left;">customerId</td>
<td style="text-align: left;">long</td>
<td style="text-align: left;">客户Id</td>
<td>否</td>
</tr>
<tr>
<td style="text-align: left;">statusList</td>
<td style="text-align: left;">List<Integer></td>
<td style="text-align: left;">创意状态列表</td>
<td>否</td>
<td>默认为未删除；为null表示查询全部，筛选条件</td>
</tr>
<tr>
<td style="text-align: left;">creativeType</td>
<td style="text-align: left;">int</td>
<td style="text-align: left;">创意类型</td>
<td>否</td>
<td>默认为全部；为null表示查询全部，1-图片，2为图文，3文字链</td>
</tr>
<tr>
<td style="text-align: left;">startTime</td>
<td style="text-align: left;">String</td>
<td style="text-align: left;">开始时间</td>
<td>是</td>
<td>默认为七天前，筛选条件</td>
</tr>
<tr>
<td style="text-align: left;">endTime</td>
<td style="text-align: left;">String</td>
<td style="text-align: left;">结束时间</td>
<td>是</td>
<td>默认为今日零点，筛选条件</td>
</tr>
<tr>
<td style="text-align: left;">adunitId</td>
<td style="text-align: left;">Long</td>
<td style="text-align: left;">单元Id</td>
<td>否</td>
<td>单元ID</td>
</tr>
<tr>
<td style="text-align: left;">pageNum</td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">页码</td>
<td>是</td>
<td>默认值为1</td>
</tr>
<tr>
<td style="text-align: left;">pageSize</td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">每页大小</td>
<td>是</td>
<td>默认值为50</td>
</tr>
<tr>
<td style="text-align: left;">campaignId</td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">计划Id</td>
<td>否</td>
<td>计划Id</td>
</tr>
</tbody>
</table>
<p><strong>请求参数示例</strong></p>
<table width='100%' class='codestyle'><pre><code>
{
      &quot;queryType&quot; : 1, // 按照创意ID查询
      &quot;queryConent&quot;: &quot;1111&quot;,
      &quot;status&quot; : [1],      //状态： ，为null表示查询全部
      &quot;startTime&quot; : &quot;2016/09/19&quot;,  //开始时间，有默认值
      &quot;endTime&quot; : &quot;2016/09/29&quot;,     //结束时间
      &quot;pageNum&quot; : 1,  //页码
      &quot;pageSize&quot;       : 20 //每页大小
}</code></pre></table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>
{
        &quot;data&quot;:{
               &quot;list&quot; : [        //返回值
                       {
                       &quot;creativeId&quot; : 12345,  //创意id
                       &quot;creativeType&quot; : 1,            //创意类型
                       //元素信息
                       &quot;value&quot; : &quot;test&quot;,      //文字链内容;图片url;视频url
                       &quot;size&quot; : &quot;200*300&quot;,      //尺寸
                       &quot;operatorId&quot;: 123,     // 操作人
                       &quot;createTime&quot; : 1479286723123,  //创建时间
                       &quot;modifyTime&quot; : 1479286723123,  //修改时间
                       &quot;status&quot; : 1,  //状态
                       //以下是计划信息
                       &quot;campaignId&quot; : 123,    //计划id
                       &quot;campaignName&quot; : &quot;计划名称01&quot;,  //计划名字
                       //以下是单元信息
                       &quot;adunitId&quot; : 1234,     //单元id
                       &quot;adunitName&quot; : &quot;单元名称01&quot;,    //单元名字
                       &quot;clickUrl&quot;: &quot;落地页&quot;,
                       //统计数据
                       &quot;exposeNum&quot; : 10000,   //展示量
                       &quot;clickNum&quot; : 10,       //点击量
                       &quot;clickRate&quot; : 100,     //点击率
                       &quot;clickPrice&quot;:10, //点击均价
                       &quot;cpmPrice&quot;: 10, // 千次曝光均价
                       &quot;consumed&quot; : 10000,    //消耗，单位是分
                       }
               ],
               &quot;total&quot; : 51,
               &quot;pages&quot; : 2,
               &quot;pageNum&quot; : 1,
               &quot;pageSize&quot; : 50
        },
        &quot;status&quot;:0
}</code></pre></table>
<p><strong>备注</strong> </p>
<ul>
<li>更多返回错误代码请看首页的错误代码描述</li>
</ul></div><h3>9.1.2、获取广告位接口</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>获取广告位接口</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>http://dsp.zybang.com/dsp-creative/creative/position/{campaignId}</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>POST </li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">说明</th>
<th>必选</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">creativeType</td>
<td style="text-align: left;">int</td>
<td style="text-align: left;">创意类型</td>
<td>否</td>
</tr>
<tr>
<td style="text-align: left;">campaignId</td>
<td style="text-align: left;">long</td>
<td style="text-align: left;">计划ID</td>
<td>是</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>{
    &quot;status&quot;: 0,
    &quot;data&quot;: [{
        &quot;posId&quot;: 101,
        &quot;name&quot;: &quot;腾讯新闻&quot;,
        &quot;description&quot;: &quot;新闻信息流&quot;,
        &quot;creativeType&quot;: 1, // 1-图片/2-图文/3-文字链
        &quot;width&quot;: 300,
        &quot;height&quot;: 400,
        &quot;createTime&quot;: 12313213123,
        &quot;modifyTime&quot;: 112313132333,
        &quot;options&quot;: [{
            &quot;optionId&quot;: 1,
            &quot;name&quot;: &quot;手机QQ天气内容页中部&quot;,
            &quot;picUrl&quot;: &quot;http://qzonestyle.gtimg.cn/gdt_ui_proj/dist/gdt/imgbox/gif/QQtianqi_582x166.gif&quot;
        }, {
            &quot;optionId&quot;: 2,
            &quot;name&quot;: &quot;黑板报信息流01&quot;,
            &quot;picUrl&quot;: &quot;http://qzonestyle.gtimg.cn/gdt_ui_proj/dist/gdt/imgbox/gif/QQtianqi_582x166.gif&quot;
        }]
    }]
}</code></pre></table>
<p><strong>备注</strong> </p>
<ul>
<li>更多返回错误代码请看首页的错误代码描述</li>
</ul></div></div><h2>9.2、投放服务</h2><div style="margin-left:20px;"><h3>9.2.1、新建计划</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong> </p>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>http://dsp.zybang.com/dsp-advert/campaigns/save</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>POST </li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">说明</th>
<th>必选</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">name</td>
<td style="text-align: left;">String</td>
<td style="text-align: left;">计划名称</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">customerId</td>
<td style="text-align: left;">Long</td>
<td style="text-align: left;">客户Id</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">dayBudget</td>
<td style="text-align: left;">Long</td>
<td style="text-align: left;">日预算，单位：分</td>
<td>否</td>
</tr>
<tr>
<td style="text-align: left;">promotionType</td>
<td style="text-align: left;">int</td>
<td style="text-align: left;">推广目的1-网页/2-IOS应用/3-Android应用</td>
<td>是</td>
</tr>
</tbody>
</table>
<p><strong>输入参数示例</strong></p>
<table width='100%' class='codestyle'><pre><code>{
“name”:”计划”，//计划名称,
“customerId”:1，//客户ID,
“dayBudget:100000,  //计划预算,单位为分
“promotionType”:1,//推广目的1-网页/2-IOS应用/3-Android应用
}</code></pre></table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>{
“data”:{“id”:1,”name”:”计划”},
“status”:0,
}</code></pre></table>
<p><strong>异常提示</strong> </p>
<table width='100%' class='codestyle'><pre><code>{
    &quot;status&quot;: 1,
    &quot;global &quot;: &quot;系统异常， 请联系系统管理员（ 错误码： A003） &quot;
}</code></pre></table>
<p><strong>备注</strong> </p>
<ul>
<li>(注意：比1.0版本增加了客户ID)</li>
</ul></div><h3>9.2.2、计划列表</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong><br />
计划列表接口</p>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>http://dsp.zybang.com/dsp-advert/campaigns/list</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>POST </li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">说明</th>
<th>必选</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">queryType</td>
<td style="text-align: left;">int</td>
<td style="text-align: left;">条件类型1-计划名称/2-计划ID</td>
<td>否</td>
</tr>
<tr>
<td style="text-align: left;">content</td>
<td style="text-align: left;">string</td>
<td style="text-align: left;">条件值</td>
<td>否</td>
</tr>
<tr>
<td style="text-align: left;">customerId</td>
<td style="text-align: left;">long</td>
<td style="text-align: left;">客户ID</td>
<td>否</td>
</tr>
<tr>
<td style="text-align: left;">statusList</td>
<td style="text-align: left;">int[]</td>
<td style="text-align: left;">计划状态</td>
<td>否</td>
</tr>
<tr>
<td style="text-align: left;">promotionType</td>
<td style="text-align: left;">int</td>
<td style="text-align: left;">推广目的</td>
<td>否</td>
</tr>
<tr>
<td style="text-align: left;">startTime</td>
<td style="text-align: left;">datetime</td>
<td style="text-align: left;">计划数据开始时间</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">endTime</td>
<td style="text-align: left;">datetime</td>
<td style="text-align: left;">计划数据结束时间</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">pageSize</td>
<td style="text-align: left;">int</td>
<td style="text-align: left;">每页数量</td>
<td>否</td>
</tr>
<tr>
<td style="text-align: left;">pageNum</td>
<td style="text-align: left;">int</td>
<td style="text-align: left;">页号</td>
<td>否</td>
</tr>
</tbody>
</table>
<p><strong>输入参数示例</strong></p>
<table width='100%' class='codestyle'><pre><code>
{ 
  &quot;queryType&quot;:1,
   &quot;queryContent&quot;:&quot;AD-JXS-201612-00104&quot;,
  &quot;pageNum&quot;:1,
  &quot;customerId&quot;:12;
  &quot;pageSize&quot;:50,//如果为空 默认是50,大于100 按照100处理
  &quot;statusList&quot;:[1,2,3],  //计划状态
  &quot;startTime&quot;:12345678,//计划列表中统计数据的起始时间
  &quot;endTime&quot;:12345679876543,//默认T-7
}</code></pre></table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>
{

“data”:{
“list”:[{
“id”:1,
“name”:”计划”,
&quot;promotionType&quot;: 1, // 推广目的
“status”:1,//计划状态 (1:投放中；2:下线-达到日预算；3:下线-达到账户预算； 4:暂停；999:删除)
&quot;dayBudget&quot;: 10000, // 计划日预算(单位分)
 “exposeNum”:80000,//曝光量
“clickNum”:7999,//点击量
“clickRate”:9099,//点击率
&quot;clickPrice&quot;:1500,//点击均价；  单位是分 消费/点击量
&quot;cpmPrice&quot;:1500,//千次展示均价；  单位是分 消费/曝光量
&quot;consumed&quot;: 232323, //总消耗
“modifyTime”：15454512,
“createTime”：121445452,
“operatorId”:1,//操作人Id
“operatorName”:”zhangsan” //创建人姓名
}] ,
      &quot;navigatePages&quot;: 8,
        &quot;navigatepageNums&quot;: [ 1, 2 ],
        &quot;endRow&quot;: 5,
        &quot;firstPage&quot;: 1,
        &quot;hasNextPage&quot;: true,
        &quot;hasPreviousPage&quot;: false,
        &quot;isFirstPage&quot;: true,
        &quot;isLastPage&quot;: false,
        &quot;lastPage&quot;: 2,
        &quot;nextPage&quot;: 2,
        &quot;orderBy&quot;: null,
        &quot;pageNum&quot;: 1,
        &quot;pageSize&quot;: 5,
        &quot;pages&quot;: 2,
        &quot;prePage&quot;: 0,
        &quot;size&quot;: 5,
        &quot;startRow&quot;: 1,
        &quot;total&quot;: 7
 },
“status”:0
}</code></pre></table>
<p><strong>异常提示</strong> </p>
<table width='100%' class='codestyle'><pre><code>
{
    &quot;status&quot;: 1,
    &quot;global &quot;: &quot;系统异常， 请联系系统管理员（ 错误码： A003） &quot;
}
``

点击客户名称调用计划列表接口，并将客户名称所对应的customerId填充到请求参数中，如下
(1) customerId填充到content参数中
(2) queryType=4
其他均为参数默认值</code></pre></table></div><h3>9.2.3、单元列表接口</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>单元列表接口</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>http://dsp.zybang.com/dsp-advert/adunits/list</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>POST </li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">说明</th>
<th>必选</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">queryType</td>
<td style="text-align: left;">int</td>
<td style="text-align: left;">查询类型(1-单元名称/2-单元ID)</td>
<td>否</td>
</tr>
<tr>
<td style="text-align: left;">content</td>
<td style="text-align: left;">String</td>
<td style="text-align: left;">内容</td>
<td>否</td>
</tr>
<tr>
<td style="text-align: left;">campaignId</td>
<td style="text-align: left;">Long</td>
<td style="text-align: left;">计划ID</td>
<td>否</td>
</tr>
<tr>
<td style="text-align: left;">customerId</td>
<td style="text-align: left;">Long</td>
<td style="text-align: left;">客户ID</td>
<td>否</td>
</tr>
<tr>
<td style="text-align: left;">statusList</td>
<td style="text-align: left;">Integer[]</td>
<td style="text-align: left;">单元状态</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">startTime</td>
<td style="text-align: left;">Date</td>
<td style="text-align: left;">统计开始时间</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">endTime</td>
<td style="text-align: left;">Date</td>
<td style="text-align: left;">统计结束时间</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">pageNum</td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">页码 默认值为1</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">pageSize</td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">每页大小 默认值为50</td>
<td>是</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>{
    &quot;status&quot;: 0,
    &quot;data&quot;: {
        &quot;endRow&quot;: 28,
        &quot;firstPage&quot;: 1,
        &quot;hasNextPage&quot;: false,
        &quot;hasPreviousPage&quot;: false,
        &quot;isFirstPage&quot;: true,
        &quot;isLastPage&quot;: true,
        &quot;lastPage&quot;: 1,
        &quot;list&quot;: [
            {
                &quot;adUnitTarget&quot;: [
                    {
                        &quot;mutexeType&quot;: 0,
                        &quot;name&quot;: &quot;购车阶段&quot;,
                        &quot;options&quot;: null,
                        &quot;targetId&quot;: 106121,
                        &quot;type&quot;: &quot;list&quot;,
                        &quot;values&quot;: [
                            {
                                &quot;children&quot;: null,
                                &quot;name&quot;: &quot;考虑&quot;,
                                &quot;targetValue&quot;: 1061210002
                            }
                        ]
                    },
                    {
                        &quot;mutexeType&quot;: 0,
                        &quot;name&quot;: &quot;购车目的&quot;,
                        &quot;options&quot;: null,
                        &quot;targetId&quot;: 108133,
                        &quot;type&quot;: &quot;list&quot;,
                        &quot;values&quot;: [
                            {
                                &quot;children&quot;: null,
                                &quot;name&quot;: &quot;接送小孩&quot;,
                                &quot;targetValue&quot;: 1081330003
                            }
                        ]
                    },
                    {
                        &quot;mutexeType&quot;: 1,
                        &quot;name&quot;: &quot;自定义人群&quot;,
                        &quot;options&quot;: null,
                        &quot;targetId&quot;: 112140,
                        &quot;type&quot;: &quot;mctree&quot;,
                        &quot;values&quot;: [
                            {
                                &quot;children&quot;: null,
                                &quot;name&quot;: &quot;重定向人群1&quot;,
                                &quot;targetValue&quot;: 11214039
                            },
                            {
                                &quot;children&quot;: null,
                                &quot;name&quot;: &quot;重定向人群2&quot;,
                                &quot;targetValue&quot;: 11214040
                            },
                            {
                                &quot;children&quot;: null,
                                &quot;name&quot;: &quot;人群包名称2&quot;,
                                &quot;targetValue&quot;: 11214036
                            }
                        ]
                    },
                    {
                        &quot;mutexeType&quot;: 0,
                        &quot;name&quot;: &quot;自定义人群&quot;,
                        &quot;options&quot;: null,
                        &quot;targetId&quot;: 112140,
                        &quot;type&quot;: &quot;mctree&quot;,
                        &quot;values&quot;: [
                            {
                                &quot;children&quot;: null,
                                &quot;name&quot;: &quot;重定向人群3多选updat1e&quot;,
                                &quot;targetValue&quot;: 11214041
                            },
                            {
                                &quot;children&quot;: null,
                                &quot;name&quot;: &quot;这个能选，在单元里，请点击&quot;,
                                &quot;targetValue&quot;: 11214034
                            },
                            {
                                &quot;children&quot;: null,
                                &quot;name&quot;: &quot;人群包名称3&quot;,
                                &quot;targetValue&quot;: 11214037
                            }
                        ]
                    }
                ],
                &quot;bidPrice&quot;: 1200, // 出价
                &quot;bidType&quot;: 2, // 1-CPM/2-CPC
                &quot;campaignId&quot;: 266,
                &quot;campaignName&quot;: &quot;计划名称&quot;,
                &quot;exposeNum&quot;: -1, // 曝光数
                &quot;clickNum&quot;: -1,
                &quot;clickPrice&quot;: -1,
                &quot;cpmPrice&quot;: -1,
                &quot;clickRate&quot;: -1,
                &quot;consumed&quot;: -1, // 消耗
                &quot;createTime&quot;: 1503317307000,
                &quot;customerId&quot;: 505631,
                &quot;id&quot;: 293,      //单元ID
                &quot;startTime&quot;: 12313 // 单元投放开始
                &quot;endTime&quot;: null // 单元投放结束
                &quot;posName&quot;: &quot;广告位名称&quot;,
                 &quot;name&quot;: &quot;1212121212&quot;,
                &quot;modifyTime&quot;: 1503382806000,
                &quot;operatorId&quot;: 267,
                &quot;operatorName&quot;: &quot;0513test&quot;,
                &quot;pubTime&quot;: [],
                &quot;pubTimeType&quot;: 1,
                &quot;status&quot;: 102
            }
        ],
        &quot;navigatePages&quot;: 8,
        &quot;navigatepageNums&quot;: [
            1
        ],
        &quot;nextPage&quot;: 0,
        &quot;orderBy&quot;: null,
        &quot;pageNum&quot;: 1,
        &quot;pageSize&quot;: 29,
        &quot;pages&quot;: 1,
        &quot;prePage&quot;: 0,
        &quot;size&quot;: 29,
        &quot;startRow&quot;: 0,
        &quot;total&quot;: 29
    }
}</code></pre></table>
<p><strong>异常提示</strong> </p>
<table width='100%' class='codestyle'><pre><code>{
    &quot;status&quot;: 1,
    &quot;global &quot;: &quot;系统异常， 请联系系统管理员（ 错误码： A003） &quot;
}</code></pre></table></div></div><h2>9.3、用户服务</h2><div style="margin-left:20px;"><h3>9.3.1、账号列表</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>账号列表</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>http://dsp.zybang.com/dsp-admin/user/list</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>POST </li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">必选</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">customerType</td>
<td style="text-align: left;">int</td>
<td style="text-align: left;">是</td>
<td>账号类型(1-代理商/2-代理子客户/3-直客)</td>
</tr>
<tr>
<td style="text-align: left;">queryType</td>
<td style="text-align: left;">int</td>
<td style="text-align: left;">否</td>
<td>查询类型(1-账号ID、客户ID/2-账号名、客户名/3-email/4-代理商名称)</td>
</tr>
<tr>
<td style="text-align: left;">content</td>
<td style="text-align: left;">String</td>
<td style="text-align: left;">否</td>
<td>查询内容</td>
</tr>
<tr>
<td style="text-align: left;">status</td>
<td style="text-align: left;">int</td>
<td style="text-align: left;">否</td>
<td>全部/1-开启/2-关闭/999-已删除，默认为“全部”</td>
</tr>
<tr>
<td style="text-align: left;">pageSize</td>
<td style="text-align: left;">int</td>
<td style="text-align: left;">否</td>
<td>每页展示条数，默认50</td>
</tr>
<tr>
<td style="text-align: left;">pageNum</td>
<td style="text-align: left;">int</td>
<td style="text-align: left;">否</td>
<td>页码，默认1</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>{

    &quot;status&quot;: &quot;0&quot;,
    &quot;data&quot;: {
      &quot;list&quot;:[{
         id: 1001, // 账号id
         name: &quot;xiaochuanchuhai&quot;, //账号名
         email: &quot;xiaochuanchuhai@zuoyebang.com&quot;, //email
         type: 1, //账号类型(1-员工账号/2-客户账号)
         agent_id:1,//所属代理商ID
         agent_name:&quot;11&quot;,//所属代理商名称
        roleNames: [&quot;代理商超管&quot;,&quot;代理商系统管理员&quot;], //角色
        customerId: 12211, //所属客户id
        customerName: &quot;新余市众实汽车服务有限公司&quot;, // 所属客户名称
        status: 1 //状态 1-开启 2-关闭 3-已删除
        operatorName:&quot;张三&quot;, //最后修改的操作人
        createTime: 12390239023, //创建时间
        modifyTime: 12390239023, //最后修改时间
    }],
    &quot;pageSize&quot;:50              //每页的记录数
    &quot;pageNum&quot;:1         //当前页码
    &quot;total&quot;:51           //总记录条数
    &quot;pages&quot;:2          //总页数
    }
}</code></pre></table>
<p><strong>备注</strong>
查询列表按照角色分类
代理商：按账号名称/ID查询、按邮箱查询、按代理商名称查询
代理子客户：按客户名称/ID查询、按账号名称/ID查询、按邮箱查询；
直客：按账号名称/ID查询、按邮箱查询；</p></div><h3>9.3.2、新建账号</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>新建外部账号</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>http://dsp.zybang.com/dsp-admin/user/save</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>POST </li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">说明</th>
<th>必选</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">name</td>
<td style="text-align: left;">String</td>
<td style="text-align: left;">账号名称，6-20位英文字母或英文字母+数字，名称不允许重复</td>
<td>是(正则：(?!^\d+$)[0-9a-zA-Z]{6,20})</td>
</tr>
<tr>
<td style="text-align: left;">email</td>
<td style="text-align: left;">String</td>
<td style="text-align: left;">账号邮箱</td>
<td>是(正则：^(\w)+(\.\w+)*@(\w)+((\.\w+)+)$)</td>
</tr>
<tr>
<td style="text-align: left;">phone</td>
<td style="text-align: left;">String</td>
<td style="text-align: left;">手机号码</td>
<td>否</td>
</tr>
<tr>
<td style="text-align: left;">roleIds</td>
<td style="text-align: left;">string</td>
<td style="text-align: left;">角色Id</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">customerId</td>
<td style="text-align: left;">Long</td>
<td style="text-align: left;">所属客户id</td>
<td>是</td>
</tr>
</tbody>
</table>
<p>PRD中让选择所属代理商,有必要选择填写那么字段？</p>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>正常响应：{ &quot;status&quot; : 0,  &quot;global&quot; : &quot;OK&quot; }

错误响应：{ &quot;status&quot; : 1000-3000, &quot;global&quot; : &quot;异常内容&quot; }</code></pre></table>
<p><strong>流程设计</strong>
![3](<a href="https://www.showdoc.cc/home/common/visitfile/sign/cac85d353c3fc48034253234dcc7833c?showdoc=.jpg">https://www.showdoc.cc/home/common/visitfile/sign/cac85d353c3fc48034253234dcc7833c?showdoc=.jpg</a> "3")</p>
<p>基本校验：
用户名使用英文字母、数字，长度6-20
邮箱符合邮箱规则
用户名不能重复（完全全排重）
手机号码校验规则：11位数字组合</p>
<p><strong>备注</strong> </p>
<ul>
<li>更多返回错误代码请看首页的错误代码描述</li>
</ul></div><h3>9.3.3、修改邮箱接口</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>修改账号邮箱</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>http://dsp.zybang.com/dsp-admin/user/email/update</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>POST </li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">说明</th>
<th>必选</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">long</td>
<td style="text-align: left;">账号id</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">email</td>
<td style="text-align: left;">String</td>
<td style="text-align: left;">账号邮箱</td>
<td>是(正则：^(\w)+(\.\w+)*@(\w)+((\.\w+)+)$)</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>正常响应：{ &quot;status&quot; : 0, &quot;global&quot; : &quot;OK&quot; }

错误响应：{ &quot;status&quot; : 1000-3000, &quot;global&quot; : &quot;异常内容&quot; }</code></pre></table></div><h3>9.3.4、重置密码</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>重置账号密码</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>http://dsp.zybang.com/dsp-admin/user/password/reset</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>POST </li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">说明</th>
<th>必选</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">Long</td>
<td style="text-align: left;">账号id</td>
<td>是</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>{
    &quot;status&quot;: &quot;0&quot;,
 &quot;global&quot;: &quot;ok&quot;
}</code></pre></table>
<p><strong>备注</strong> </p>
<ul>
<li>更多返回错误代码请看首页的错误代码描述</li>
</ul></div><h3>9.3.5、删除账号</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>删除账号</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>http://dsp.zybang.com/dsp-admin/user/delete</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>POST </li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">说明</th>
<th>必选</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">Long</td>
<td style="text-align: left;">账号id</td>
<td>是</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>{
    &quot;status&quot;: &quot;0&quot;,
 &quot;global&quot;: &quot;ok&quot;
}</code></pre></table>
<p><strong>备注</strong> </p>
<ul>
<li>更多返回错误代码请看首页的错误代码描述</li>
</ul></div><h3>9.3.6、修改账号状态</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>修改账号状态</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>http://dsp.zybang.com/dsp-admin/user/status/update</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>POST </li>
</ul>
<p><strong>请求示例</strong></p>
<table width='100%' class='codestyle'><pre><code>{
    id: [123,234], //账号ID 
    status: 1
    }</code></pre></table>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">说明</th>
<th>必选</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">List</td>
<td style="text-align: left;">账号id</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">status</td>
<td style="text-align: left;">int</td>
<td style="text-align: left;">1-开启 2-关闭</td>
<td>是</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>{
    &quot;status&quot;: 0,
     &quot;global&quot;: &quot;OK&quot;
}</code></pre></table>
<p><strong>备注</strong> </p>
<ul>
<li>更多返回错误代码请看首页的错误代码描述</li>
</ul></div><h3>9.3.7、获取客户列表</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>获取客户列表</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>http://dsp.zybang.com.cn/dsp-admin/customer/list</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>POST </li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">说明</th>
<th>必选</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">queryType</td>
<td style="text-align: left;">int</td>
<td style="text-align: left;">查询类型(1-客户名称/2-客户ID/3-客户行业/4-代理商ID)</td>
<td>否</td>
</tr>
<tr>
<td style="text-align: left;">content</td>
<td style="text-align: left;">String</td>
<td style="text-align: left;">查询内容</td>
<td>否</td>
</tr>
<tr>
<td style="text-align: left;">agentId</td>
<td style="text-align: left;">Long</td>
<td style="text-align: left;">代理商ID</td>
<td>否</td>
</tr>
<tr>
<td style="text-align: left;">typeList</td>
<td style="text-align: left;">List</td>
<td style="text-align: left;">1-代理商/2-代理子客户/3-直客</td>
<td>否</td>
</tr>
<tr>
<td style="text-align: left;">pageSize</td>
<td style="text-align: left;">int</td>
<td style="text-align: left;">每页展示条数，默认50</td>
<td>否</td>
</tr>
<tr>
<td style="text-align: left;">pageNum</td>
<td style="text-align: left;">int</td>
<td style="text-align: left;">页码，默认1</td>
<td>否</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>{
    &quot;status&quot;: &quot;0&quot;,
    &quot;data&quot;: {
      &quot;list&quot;:[{
         customerName: &quot;新余市众实汽车服务有限公司&quot;, //客户名称
         customerId: 63261 //客户ID,
         companyName: &quot;客户所属公司&quot; //公司名称
         type: 1 //客户类型,
         primaryIndustry:    汽车, // 一级行业
         secondaryIndustry: 新能源,  // 二级行业
         status: 1, // 状态
         budget: 10000, // 现金账户余额（单位分）
         operatorName: 张三, // 操作人
          “exposeNum”:80000,//曝光量
        “clickNum”:7999,//点击量
        “clickRate”:9099,//点击率
        &quot;clickPrice&quot;:1500,//点击均价；  单位是分 消费/点击量
        &quot;cpmPrice&quot;:1500,//千次展示均价；  单位是分 消费/曝光量
        &quot;consumed&quot;: 232323, //总消耗
         createTime: 123131321, //创建时间
         modifyTime: 23232323 //修改时间
        },
        {
         customerName: &quot;新余市众实汽车服务有限公司&quot;, //客户名称
         customerId: 63261 //客户ID,
         companyName: &quot;客户所属公司&quot; //公司名称
         type: 1 //客户类型,
         primaryIndustry:    汽车, // 一级行业
         secondaryIndustry: 新能源,  // 二级行业
         status: 1, // 状态
         budget: 10000, // 现金账户余额（单位分）
         operatorName: 张三, // 操作人
         “exposeNum”:80000,//曝光量
        “clickNum”:7999,//点击量
        “clickRate”:9099,//点击率
        &quot;clickPrice&quot;:1500,//点击均价；  单位是分 消费/点击量
        &quot;cpmPrice&quot;:1500,//千次展示均价；  单位是分 消费/曝光量
        &quot;consumed&quot;: 232323, //总消耗
         createTime: 123131321, //创建时间
         modifyTime: 23232323 //修改时间
        }],
        &quot;pageSize&quot;:50              //每页的记录数
        &quot;pageNum&quot;:1         //当前页码
        &quot;total&quot;:51           //总记录数
        &quot;pages&quot;:2          //总页数
    }
}
</code></pre></table>
<p><strong>备注</strong>
需求1.1 增加数据统计字段，例消耗、曝光、点击量等</p></div><h3>9.3.8、邮件分发服务(后台)</h3><div style="margin-left:30px;"><p><strong>流程设计</strong>
![1](<a href="https://www.showdoc.cc/home/common/visitfile/sign/b3ab88603e66b652763215d9d403865c?showdoc=.jpg">https://www.showdoc.cc/home/common/visitfile/sign/b3ab88603e66b652763215d9d403865c?showdoc=.jpg</a> "1")
![2](<a href="https://www.showdoc.cc/home/common/visitfile/sign/7e8c32c2a838167a962943cb33dc657b?showdoc=.jpg">https://www.showdoc.cc/home/common/visitfile/sign/7e8c32c2a838167a962943cb33dc657b?showdoc=.jpg</a> "2")</p>
<p>邮件分发流程：</p>
<p>1)    业务产生待发送的内容</p>
<p>2)    将邮件信息写入Kafka</p>
<p>3)    邮件服务通过监听Kafka获取待分发数据</p>
<p>4)    解析邮件内容</p>
<p>5)    调用邮件发送api</p>
<p>6)    记录日志</p>
<p>说明：邮件服务实现在dsp-task模块中</p>
<p><strong> 邮件分发数据结构</strong>
各业务使用Kafka进行邮件发送时，需向指定topic中发送json数据： [ {"type" : 1, "data" : { "subject" : "邮件主题","content" : "正文","toAddress" : "收信人地址"}} ]</p>
<p>topic值为：dsp_message</p>
<p>type=1时代表发送方式为邮件：</p>
<p>data字段列表：</p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th>字段</th>
<th>描述</th>
<th>是否必选</th>
</tr>
</thead>
<tbody>
<tr>
<td>subject</td>
<td>邮件主题</td>
<td>是</td>
</tr>
<tr>
<td>content</td>
<td>邮件正文</td>
<td>是</td>
</tr>
<tr>
<td>toAddress</td>
<td>收信人地址，可支持多个，用逗号隔开即可</td>
<td>是</td>
</tr>
</tbody>
</table></div><h3>9.3.9、用户消耗接口</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>用户消耗接口</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>http://dsp.zybang.com/dsp-admin/user/consumed</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>GET</li>
</ul>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>正常响应：
{
    &quot;data&quot;: {
        &quot;todayConsumed&quot;: 0,
        &quot;assignBudget&quot;: -1,
        &quot;budget&quot;: 1099999999900，
         &quot;creativeCount&quot;:
            { &quot;auditNumber&quot;: 56,
              &quot;refuseNumber&quot;: 9
            }
    },
    &quot;status&quot;: 0
}</code></pre></table>
<p>错误响应：</p>
<table width='100%' class='codestyle'><pre><code>{ &quot;status&quot; : 1000-3000, &quot;global&quot; : &quot;异常内容&quot; }</code></pre></table></div></div><h2>9.4、数据服务</h2><div style="margin-left:20px;"><h3>9.4.1、数据下载接口</h3><div style="margin-left:30px;"><p>欢迎使用ShowDoc！<br />
<strong>简要描述：</strong> </p>
<ul>
<li>下载接口</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>http://dsp.zybang.com/dsp-report/download</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>POST</li>
</ul>
<p><strong>请求示例：</strong> </p>
<table width='100%' class='codestyle'><pre><code>{
    &quot;bizScope&quot;:1,  // 1-代理商/2-客户
    &quot;bizList&quot;:[1,2,3], // 范围
    &quot;timeType&quot;: 1,        // 时间粒度
    &quot;bizType&quot;:1,  // 1-计划/2-单元/3-创意/4-客户
    &quot;startTime&quot;: 12313123123123,
    &quot;endTime&quot;: 123121231312312312
}</code></pre></table>
<p><strong>参数说明:</strong></p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">说明</th>
<th>必选</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">bizScope</td>
<td style="text-align: left;">int</td>
<td style="text-align: left;">数据范围类型</td>
<td>是</td>
<td>1-代理商/2-客户</td>
</tr>
<tr>
<td style="text-align: left;">bizList</td>
<td style="text-align: left;">List</td>
<td style="text-align: left;">数据范围</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">timeType</td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">时间粒度(1-汇总/2-分日)</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">bizType</td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">数据维度(1-计划/2-单元/3-创意)</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">startTime</td>
<td style="text-align: left;">String</td>
<td style="text-align: left;">查询开始时间</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">endTime</td>
<td style="text-align: left;">String</td>
<td style="text-align: left;">查询结束时间</td>
<td>是</td>
<td>结束时间要小于等于当前时间的前一天</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>{
“data”:[{
&quot;timestamp&quot;: &quot;2017-01-03&quot;, // 统计时间
&quot;agentName&quot;: &quot;代理公司&quot;,
&quot;customerName&quot;:&quot;客户&quot;,
&quot;campaignName&quot;: &quot;计划123&quot;, // 广告计划
&quot;adunitName&quot;: &quot;单元456&quot;, // 广告单元
&quot;creativeType&quot;: 1,            // 1-图文/2-图片/3-文字链
&quot;creativeValue&quot;: &quot;123123&quot; // 广告创意
&quot;expose&quot;:80000,//曝光量
&quot;click&quot;:7999,//点击量
&quot;clickRate&quot;:9099,//点击率
&quot;clickPrice&quot;:1500,//点击均价；  单位是分
&quot;cpmPrice&quot;:1500,//千次展示均价；  单位是分
&quot;consumed&quot;: 12313, // 消耗
}] ,
“status”:0
}</code></pre></table></div><h3>9.4.2、数据列表</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>数据预览列表</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>http://dsp.zybang.com/dsp-report/list</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>POST</li>
</ul>
<p><strong>请求示例：</strong> </p>
<table width='100%' class='codestyle'><pre><code>{
    &quot;bizScope&quot;:1,  // 1-代理商/2-客户
    &quot;bizList&quot;:[1,2,3], // 范围
    &quot;timeType&quot;: 1,        // 时间粒度
    &quot;bizType&quot;:1,  // 1-计划/2-单元/3-创意/4-客户
    &quot;startTime&quot;: 12313123123123,
    &quot;endTime&quot;: 123121231312312312,
    &quot;pageSize&quot;: 50,
    &quot;pageNum&quot;: 2
}</code></pre></table>
<p><strong>参数说明:</strong></p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">说明</th>
<th>必选</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">bizScope</td>
<td style="text-align: left;">int</td>
<td style="text-align: left;">数据范围类型</td>
<td>是</td>
<td>1-代理商/2-客户</td>
</tr>
<tr>
<td style="text-align: left;">bizList</td>
<td style="text-align: left;">List</td>
<td style="text-align: left;">数据范围</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">timeType</td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">时间维度(1-ALL/2-分日)</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">bizType</td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">数据维度(1-计划/2-单元/3-创意)</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">startTime</td>
<td style="text-align: left;">String</td>
<td style="text-align: left;">查询开始时间</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">endTime</td>
<td style="text-align: left;">String</td>
<td style="text-align: left;">查询结束时间</td>
<td>是</td>
<td>结束时间要小于等于当前时间的前一天</td>
</tr>
<tr>
<td style="text-align: left;">pageSize</td>
<td style="text-align: left;">int</td>
<td style="text-align: left;">每页多少条</td>
<td>是</td>
</tr>
<tr>
<td style="text-align: left;">pageNum</td>
<td style="text-align: left;">int</td>
<td style="text-align: left;">当前第几页</td>
<td>是</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>{
“data”:{
“list”:[{
&quot;timestamp&quot;: &quot;2017-01-03&quot;, // 统计时间
&quot;agentName&quot;: &quot;代理公司&quot;,
&quot;customerName&quot;:&quot;客户&quot;,
&quot;campaignName&quot;: &quot;计划123&quot;, // 广告计划
&quot;adunitName&quot;: &quot;单元456&quot;, // 广告单元
&quot;creativeType&quot;: 1,            // 1-图文/2-图片/3-文字链
&quot;creativeValue&quot;: &quot;123123&quot; // 广告创意
&quot;expose&quot;:80000,//曝光量
&quot;click&quot;:7999,//点击量
&quot;clickRate&quot;:9099,//点击率
&quot;clickPrice&quot;:1500,//点击均价；  单位是分
&quot;cpmPrice&quot;:1500,//千次展示均价；  单位是分
&quot;consumed&quot;: 12313, // 消耗
}] ,
&quot;total&quot;:51           //总记录数
&quot;pages&quot;:2          //总页数
 },
“status”:0
}</code></pre></table></div></div><h2>9.5、数据字典</h2><div style="margin-left:20px;"><h3>9.5.1、广告位表</h3><div style="margin-left:30px;"><ul>
<li>创意广告位表 position</li>
</ul>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">字段</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">空</th>
<th>默认</th>
<th>注释</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">bigint(20)</td>
<td style="text-align: left;">否</td>
<td>主键</td>
</tr>
<tr>
<td style="text-align: left;">name</td>
<td style="text-align: left;">varchar(50)</td>
<td style="text-align: left;">否</td>
<td>广告位名称</td>
</tr>
<tr>
<td style="text-align: left;">description</td>
<td style="text-align: left;">varchar(200)</td>
<td style="text-align: left;">否</td>
<td>广告位描述</td>
</tr>
<tr>
<td style="text-align: left;">creative_type</td>
<td style="text-align: left;">varchar(64)</td>
<td style="text-align: left;">是</td>
<td>创意类型</td>
</tr>
<tr>
<td style="text-align: left;">width</td>
<td style="text-align: left;">int</td>
<td style="text-align: left;">是</td>
<td>宽度</td>
</tr>
<tr>
<td style="text-align: left;">height</td>
<td style="text-align: left;">int</td>
<td style="text-align: left;">是</td>
<td>高度</td>
</tr>
<tr>
<td style="text-align: left;">sortby</td>
<td style="text-align: left;">int</td>
<td style="text-align: left;">是</td>
<td>排序</td>
</tr>
<tr>
<td style="text-align: left;">create_time</td>
<td style="text-align: left;">datetime</td>
<td style="text-align: left;">是</td>
<td>创建时间</td>
</tr>
<tr>
<td style="text-align: left;">modify_time</td>
<td style="text-align: left;">datetime</td>
<td style="text-align: left;">是</td>
<td>修改时间</td>
</tr>
<tr>
<td style="text-align: left;">support_promotion</td>
<td style="text-align: left;">varchar(100)</td>
<td style="text-align: left;">是</td>
<td>支持推广目标(1-网页推广，2-IOS推广，3-Android推广)</td>
</tr>
</tbody>
</table>
<ul>
<li>备注：无</li>
</ul></div><h3>9.5.2、创意状态统计表</h3><div style="margin-left:30px;"><ul>
<li>创意状态统计表   creative_count</li>
</ul>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">字段</th>
<th style="text-align: left;">类型</th>
<th style="text-align: left;">空</th>
<th>默认</th>
<th>注释</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">bigint(20)</td>
<td style="text-align: left;">否</td>
<td>主键</td>
</tr>
<tr>
<td style="text-align: left;">customerId</td>
<td style="text-align: left;">long</td>
<td style="text-align: left;">是</td>
<td>客户Id</td>
</tr>
<tr>
<td style="text-align: left;">customerName</td>
<td style="text-align: left;">string</td>
<td style="text-align: left;">是</td>
<td>客户名称</td>
</tr>
<tr>
<td style="text-align: left;">status</td>
<td style="text-align: left;">int</td>
<td style="text-align: left;">否</td>
<td>创意状态</td>
</tr>
<tr>
<td style="text-align: left;">number</td>
<td style="text-align: left;">long</td>
<td style="text-align: left;">是</td>
<td>创意数量</td>
</tr>
<tr>
<td style="text-align: left;">modify_time</td>
<td style="text-align: left;">datetime</td>
<td style="text-align: left;">是</td>
<td>修改时间</td>
</tr>
</tbody>
</table>
<ul>
<li>备注：无</li>
</ul></div></div></div></body></html>